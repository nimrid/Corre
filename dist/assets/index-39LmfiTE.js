const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-CyiU3O1w.js","assets/if-defined-DG08lccF.js","assets/index-DATqF8xn.js","assets/index-DYKrk1za.css","assets/index-CO07B37g.js","assets/index-B_O6BnpT.js","assets/index-C7JrujnZ.js","assets/index-B4vVJisS.js","assets/index-sjp6rjsf.js","assets/index-D1-oeF2B.js","assets/index-Go-RI6QP.js","assets/index-AtSPTo37.js","assets/email-DkaFmDju.js","assets/index-C20zgOOz.js","assets/socials-BYoBhRmi.js","assets/index-C4YJNb-E.js","assets/index-E7u5LclK.js","assets/index-D0kUnpqY.js","assets/index-Cn5aGd7v.js","assets/index-BrM98sdG.js","assets/swaps-Dyp2Fuu5.js","assets/index-B3SN7d5O.js","assets/index-D3gC6FIT.js","assets/index-h2qJbER0.js","assets/send-BzcMqexG.js","assets/index-DD23NLVp.js","assets/receive-KsBpADg8.js","assets/index-DFf1ruFW.js","assets/onramp-wUA3JsRV.js","assets/index-Ct7b0up3.js","assets/index-DxGlg73s.js","assets/transactions-WZYXgABr.js","assets/index-yJBQVj6J.js","assets/index-DTD9fypW.js","assets/index-Cr5fG9e0.js","assets/w3m-modal-CsEcmnnd.js"])))=>i.map(i=>d[i]);
import{c as yn,T as vn,U as Nn,E as bn,w as Tn,f as Sn,k as qs,A as Ks,h as Er,a as In,b as Rn,t as Cs,x as kn,_ as Fe}from"./index-DATqF8xn.js";function _s(t,e={}){const{key:r="fallback",name:s="Fallback",rank:n=!1,shouldThrow:a=On,retryCount:i,retryDelay:o}=e;return({chain:d,pollingInterval:l=4e3,timeout:p,...h})=>{let C=t,w=()=>{};const O=yn({key:r,name:s,async request({method:g,params:I}){let R;const te=async(V=0)=>{const se=C[V]({...h,chain:d,retryCount:0,timeout:p});try{const we=await se.request({method:g,params:I});return w({method:g,params:I,response:we,transport:se,status:"success"}),we}catch(we){if(w({error:we,method:g,params:I,transport:se,status:"error"}),a(we)||V===C.length-1||(R??(R=C.slice(V+1).some($e=>{const{include:Ue,exclude:_r}=$e({chain:d}).config.methods||{};return Ue?Ue.includes(g):_r?!_r.includes(g):!0})),!R))throw we;return te(V+1)}};return te()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:g=>w=g,transports:C.map(g=>g({chain:d,retryCount:0}))});if(n){const g=typeof n=="object"?n:{};Pn({chain:d,interval:g.interval??l,onTransports:I=>C=I,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:C,weights:g.weights})}return O}}function On(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===vn.code||t.code===Nn.code||bn.nodeMessage.test(t.message)||t.code===5e3))}function Pn({chain:t,interval:e=4e3,onTransports:r,ping:s,sampleCount:n=10,timeout:a=1e3,transports:i,weights:o={}}){const{stability:d=.7,latency:l=.3}=o,p=[],h=async()=>{const C=await Promise.all(i.map(async g=>{const I=g({chain:t,retryCount:0,timeout:a}),R=Date.now();let te,V;try{await(s?s({transport:I}):I.request({method:"net_listening"})),V=1}catch{V=0}finally{te=Date.now()}return{latency:te-R,success:V}}));p.push(C),p.length>n&&p.shift();const w=Math.max(...p.map(g=>Math.max(...g.map(({latency:I})=>I)))),O=i.map((g,I)=>{const R=p.map($e=>$e[I].latency),V=1-R.reduce(($e,Ue)=>$e+Ue,0)/R.length/w,se=p.map($e=>$e[I].success),we=se.reduce(($e,Ue)=>$e+Ue,0)/se.length;return we===0?[0,I]:[l*V+d*we,I]}).sort((g,I)=>I[0]-g[0]);r(O.map(([,g])=>i[g])),await Tn(e),h()};h()}const xn=Symbol(),ws=Object.getPrototypeOf,is=new WeakMap,Un=t=>t&&(is.has(t)?is.get(t):ws(t)===Object.prototype||ws(t)===Array.prototype),Dn=t=>Un(t)&&t[xn]||null,Es=(t,e=!0)=>{is.set(t,e)},Rr={},qr=t=>typeof t=="object"&&t!==null,et=new WeakMap,jt=new WeakSet,Ln=(t=Object.is,e=(l,p)=>new Proxy(l,p),r=l=>qr(l)&&!jt.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),s=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},n=new WeakMap,a=(l,p,h=s)=>{const C=n.get(l);if((C==null?void 0:C[0])===p)return C[1];const w=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Es(w,!0),n.set(l,[p,w]),Reflect.ownKeys(l).forEach(O=>{if(Object.getOwnPropertyDescriptor(w,O))return;const g=Reflect.get(l,O),{enumerable:I}=Reflect.getOwnPropertyDescriptor(l,O),R={value:g,enumerable:I,configurable:!0};if(jt.has(g))Es(g,!1);else if(g instanceof Promise)delete R.value,R.get=()=>h(g);else if(et.has(g)){const[te,V]=et.get(g);R.value=a(te,V(),h)}Object.defineProperty(w,O,R)}),Object.preventExtensions(w)},i=new WeakMap,o=[1,1],d=l=>{if(!qr(l))throw new Error("object required");const p=i.get(l);if(p)return p;let h=o[0];const C=new Set,w=(K,G=++o[0])=>{h!==G&&(h=G,C.forEach(H=>H(K,G)))};let O=o[1];const g=(K=++o[1])=>(O!==K&&!C.size&&(O=K,R.forEach(([G])=>{const H=G[1](K);H>h&&(h=H)})),h),I=K=>(G,H)=>{const ye=[...G];ye[1]=[K,...ye[1]],w(ye,H)},R=new Map,te=(K,G)=>{if((Rr?"production":void 0)!=="production"&&R.has(K))throw new Error("prop listener already exists");if(C.size){const H=G[3](I(K));R.set(K,[G,H])}else R.set(K,[G])},V=K=>{var G;const H=R.get(K);H&&(R.delete(K),(G=H[1])==null||G.call(H))},se=K=>(C.add(K),C.size===1&&R.forEach(([H,ye],yt)=>{if((Rr?"production":void 0)!=="production"&&ye)throw new Error("remove already exists");const Mt=H[3](I(yt));R.set(yt,[H,Mt])}),()=>{C.delete(K),C.size===0&&R.forEach(([H,ye],yt)=>{ye&&(ye(),R.set(yt,[H]))})}),we=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),Ue=e(we,{deleteProperty(K,G){const H=Reflect.get(K,G);V(G);const ye=Reflect.deleteProperty(K,G);return ye&&w(["delete",[G],H]),ye},set(K,G,H,ye){const yt=Reflect.has(K,G),Mt=Reflect.get(K,G,ye);if(yt&&(t(Mt,H)||i.has(H)&&t(Mt,i.get(H))))return!0;V(G),qr(H)&&(H=Dn(H)||H);let wr=H;if(H instanceof Promise)H.then(Je=>{H.status="fulfilled",H.value=Je,w(["resolve",[G],Je])}).catch(Je=>{H.status="rejected",H.reason=Je,w(["reject",[G],Je])});else{!et.has(H)&&r(H)&&(wr=d(H));const Je=!jt.has(wr)&&et.get(wr);Je&&te(G,Je)}return Reflect.set(K,G,wr,ye),w(["set",[G],H,Mt]),!0}});i.set(l,Ue);const _r=[we,g,a,se];return et.set(Ue,_r),Reflect.ownKeys(l).forEach(K=>{const G=Object.getOwnPropertyDescriptor(l,K);"value"in G&&(Ue[K]=l[K],delete G.value,delete G.writable),Object.defineProperty(we,K,G)}),Ue})=>[d,et,jt,t,e,r,s,n,a,i,o],[Mn]=Ln();function ce(t={}){return Mn(t)}function Ee(t,e,r){const s=et.get(t);(Rr?"production":void 0)!=="production"&&!s&&console.warn("Please use proxy object");let n;const a=[],i=s[3];let o=!1;const l=i(p=>{a.push(p),n||(n=Promise.resolve().then(()=>{n=void 0,o&&e(a.splice(0))}))});return o=!0,()=>{o=!1,l()}}function Xt(t,e){const r=et.get(t);(Rr?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[s,n,a]=r;return a(s,n(),e)}function ft(t){return jt.add(t),t}function Te(t,e,r,s){let n=t[e];return Ee(t,()=>{const a=t[e];Object.is(n,a)||r(n=a)})}function Bn(t){const e=ce({data:Array.from([]),has(r){return this.data.some(s=>s[0]===r)},set(r,s){const n=this.data.find(a=>a[0]===r);return n?n[1]=s:this.data.push([r,s]),this},get(r){var s;return(s=this.data.find(n=>n[0]===r))==null?void 0:s[1]},delete(r){const s=this.data.findIndex(n=>n[0]===r);return s===-1?!1:(this.data.splice(s,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(r){this.data.forEach(s=>{r(s[1],s[0],this)})},keys(){return this.data.map(r=>r[0]).values()},values(){return this.data.map(r=>r[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const Ys={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(r=>r.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var Wn=20,$n=1,Lt=1e6,Fn=1e6,jn=-7,Hn=21,Vn=!1,fr="[big.js] ",wt=fr+"Invalid ",jr=wt+"decimal places",Gn=wt+"rounding mode",Zs=fr+"Division by zero",Q={},je=void 0,zn=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Js(){function t(e){var r=this;if(!(r instanceof t))return e===je?Js():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(wt+"value");e=e===0&&1/e<0?"-0":String(e)}qn(r,e)}r.constructor=t}return t.prototype=Q,t.DP=Wn,t.RM=$n,t.NE=jn,t.PE=Hn,t.strict=Vn,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function qn(t,e){var r,s,n;if(!zn.test(e))throw Error(wt+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),n=e.length,s=0;s<n&&e.charAt(s)=="0";)++s;if(s==n)t.c=[t.e=0];else{for(;n>0&&e.charAt(--n)=="0";);for(t.e=r-s-1,t.c=[],r=0;s<=n;)t.c[r++]=+e.charAt(s++)}return t}function Et(t,e,r,s){var n=t.c;if(r===je&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(Gn);if(e<1)s=r===3&&(s||!!n[0])||e===0&&(r===1&&n[0]>=5||r===2&&(n[0]>5||n[0]===5&&(s||n[1]!==je))),n.length=1,s?(t.e=t.e-e+1,n[0]=1):n[0]=t.e=0;else if(e<n.length){if(s=r===1&&n[e]>=5||r===2&&(n[e]>5||n[e]===5&&(s||n[e+1]!==je||n[e-1]&1))||r===3&&(s||!!n[0]),n.length=e,s){for(;++n[--e]>9;)if(n[e]=0,e===0){++t.e,n.unshift(1);break}}for(e=n.length;!n[--e];)n.pop()}return t}function At(t,e,r){var s=t.e,n=t.c.join(""),a=n.length;if(e)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)n="0"+n;n="0."+n}else if(s>0)if(++s>a)for(s-=a;s--;)n+="0";else s<a&&(n=n.slice(0,s)+"."+n.slice(s));else a>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&r?"-"+n:n}Q.abs=function(){var t=new this.constructor(this);return t.s=1,t};Q.cmp=function(t){var e,r=this,s=r.c,n=(t=new r.constructor(t)).c,a=r.s,i=t.s,o=r.e,d=t.e;if(!s[0]||!n[0])return s[0]?a:n[0]?-i:0;if(a!=i)return a;if(e=a<0,o!=d)return o>d^e?1:-1;for(i=(o=s.length)<(d=n.length)?o:d,a=-1;++a<i;)if(s[a]!=n[a])return s[a]>n[a]^e?1:-1;return o==d?0:o>d^e?1:-1};Q.div=function(t){var e=this,r=e.constructor,s=e.c,n=(t=new r(t)).c,a=e.s==t.s?1:-1,i=r.DP;if(i!==~~i||i<0||i>Lt)throw Error(jr);if(!n[0])throw Error(Zs);if(!s[0])return t.s=a,t.c=[t.e=0],t;var o,d,l,p,h,C=n.slice(),w=o=n.length,O=s.length,g=s.slice(0,o),I=g.length,R=t,te=R.c=[],V=0,se=i+(R.e=e.e-t.e)+1;for(R.s=a,a=se<0?0:se,C.unshift(0);I++<o;)g.push(0);do{for(l=0;l<10;l++){if(o!=(I=g.length))p=o>I?1:-1;else for(h=-1,p=0;++h<o;)if(n[h]!=g[h]){p=n[h]>g[h]?1:-1;break}if(p<0){for(d=I==o?n:C;I;){if(g[--I]<d[I]){for(h=I;h&&!g[--h];)g[h]=9;--g[h],g[I]+=10}g[I]-=d[I]}for(;!g[0];)g.shift()}else break}te[V++]=p?l:++l,g[0]&&p?g[I]=s[w]||0:g=[s[w]]}while((w++<O||g[0]!==je)&&a--);return!te[0]&&V!=1&&(te.shift(),R.e--,se--),V>se&&Et(R,se,r.RM,g[0]!==je),R};Q.eq=function(t){return this.cmp(t)===0};Q.gt=function(t){return this.cmp(t)>0};Q.gte=function(t){return this.cmp(t)>-1};Q.lt=function(t){return this.cmp(t)<0};Q.lte=function(t){return this.cmp(t)<1};Q.minus=Q.sub=function(t){var e,r,s,n,a=this,i=a.constructor,o=a.s,d=(t=new i(t)).s;if(o!=d)return t.s=-d,a.plus(t);var l=a.c.slice(),p=a.e,h=t.c,C=t.e;if(!l[0]||!h[0])return h[0]?t.s=-d:l[0]?t=new i(a):t.s=1,t;if(o=p-C){for((n=o<0)?(o=-o,s=l):(C=p,s=h),s.reverse(),d=o;d--;)s.push(0);s.reverse()}else for(r=((n=l.length<h.length)?l:h).length,o=d=0;d<r;d++)if(l[d]!=h[d]){n=l[d]<h[d];break}if(n&&(s=l,l=h,h=s,t.s=-t.s),(d=(r=h.length)-(e=l.length))>0)for(;d--;)l[e++]=0;for(d=e;r>o;){if(l[--r]<h[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=h[r]}for(;l[--d]===0;)l.pop();for(;l[0]===0;)l.shift(),--C;return l[0]||(t.s=1,l=[C=0]),t.c=l,t.e=C,t};Q.mod=function(t){var e,r=this,s=r.constructor,n=r.s,a=(t=new s(t)).s;if(!t.c[0])throw Error(Zs);return r.s=t.s=1,e=t.cmp(r)==1,r.s=n,t.s=a,e?new s(r):(n=s.DP,a=s.RM,s.DP=s.RM=0,r=r.div(t),s.DP=n,s.RM=a,this.minus(r.times(t)))};Q.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Q.plus=Q.add=function(t){var e,r,s,n=this,a=n.constructor;if(t=new a(t),n.s!=t.s)return t.s=-t.s,n.minus(t);var i=n.e,o=n.c,d=t.e,l=t.c;if(!o[0]||!l[0])return l[0]||(o[0]?t=new a(n):t.s=n.s),t;if(o=o.slice(),e=i-d){for(e>0?(d=i,s=l):(e=-e,s=o),s.reverse();e--;)s.push(0);s.reverse()}for(o.length-l.length<0&&(s=l,l=o,o=s),e=l.length,r=0;e;o[e]%=10)r=(o[--e]=o[e]+l[e]+r)/10|0;for(r&&(o.unshift(r),++d),e=o.length;o[--e]===0;)o.pop();return t.c=o,t.e=d,t};Q.pow=function(t){var e=this,r=new e.constructor("1"),s=r,n=t<0;if(t!==~~t||t<-1e6||t>Fn)throw Error(wt+"exponent");for(n&&(t=-t);t&1&&(s=s.times(e)),t>>=1,!!t;)e=e.times(e);return n?r.div(s):s};Q.prec=function(t,e){if(t!==~~t||t<1||t>Lt)throw Error(wt+"precision");return Et(new this.constructor(this),t,e)};Q.round=function(t,e){if(t===je)t=0;else if(t!==~~t||t<-1e6||t>Lt)throw Error(jr);return Et(new this.constructor(this),t+this.e+1,e)};Q.sqrt=function(){var t,e,r,s=this,n=s.constructor,a=s.s,i=s.e,o=new n("0.5");if(!s.c[0])return new n(s);if(a<0)throw Error(fr+"No square root");a=Math.sqrt(+At(s,!0,!0)),a===0||a===1/0?(e=s.c.join(""),e.length+i&1||(e+="0"),a=Math.sqrt(e),i=((i+1)/2|0)-(i<0||i&1),t=new n((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+i)):t=new n(a+""),i=t.e+(n.DP+=4);do r=t,t=o.times(r.plus(s.div(r)));while(r.c.slice(0,i).join("")!==t.c.slice(0,i).join(""));return Et(t,(n.DP-=4)+t.e+1,n.RM)};Q.times=Q.mul=function(t){var e,r=this,s=r.constructor,n=r.c,a=(t=new s(t)).c,i=n.length,o=a.length,d=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!n[0]||!a[0])return t.c=[t.e=0],t;for(t.e=d+l,i<o&&(e=n,n=a,a=e,l=i,i=o,o=l),e=new Array(l=i+o);l--;)e[l]=0;for(d=o;d--;){for(o=0,l=i+d;l>d;)o=e[l]+a[d]*n[l-d-1]+o,e[l--]=o%10,o=o/10|0;e[l]=o}for(o?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t};Q.toExponential=function(t,e){var r=this,s=r.c[0];if(t!==je){if(t!==~~t||t<0||t>Lt)throw Error(jr);for(r=Et(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return At(r,!0,!!s)};Q.toFixed=function(t,e){var r=this,s=r.c[0];if(t!==je){if(t!==~~t||t<0||t>Lt)throw Error(jr);for(r=Et(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return At(r,!1,!!s)};Q[Symbol.for("nodejs.util.inspect.custom")]=Q.toJSON=Q.toString=function(){var t=this,e=t.constructor;return At(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Q.toNumber=function(){var t=+At(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(fr+"Imprecise conversion");return t};Q.toPrecision=function(t,e){var r=this,s=r.constructor,n=r.c[0];if(t!==je){if(t!==~~t||t<1||t>Lt)throw Error(wt+"precision");for(r=Et(new s(r),t,e);r.c.length<t;)r.c.push(0)}return At(r,t<=r.e||r.e<=s.NE||r.e>=s.PE,!!n)};Q.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(fr+"valueOf disallowed");return At(t,t.e<=e.NE||t.e>=e.PE,!0)};var Bt=Js();const Ar={bigNumber(t){return t?new Bt(t):new Bt(0)},multiply(t,e){if(t===void 0||e===void 0)return new Bt(0);const r=new Bt(t),s=new Bt(e);return r.times(s)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Kn=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Yn=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Zn=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],T={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},Jn={getERC20Abi:t=>T.USDT_CONTRACT_ADDRESSES.includes(t)?Zn:Kn,getSwapAbi:()=>Yn},Xe={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,s,n]=e;if(!r||!s||!n)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:s,address:n}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,s]=e;if(!r||!s)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:s}}},F={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function Kr(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const B={setItem(t,e){Ht()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Ht())return localStorage.getItem(t)||void 0},removeItem(t){Ht()&&localStorage.removeItem(t)},clear(){Ht()&&localStorage.clear()}};function Ht(){return typeof window<"u"&&typeof localStorage<"u"}function Ke(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}var As={};const Yr=(typeof process<"u"&&typeof As<"u"?As.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",pc=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],hc="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ce={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:Yr,SECURE_SITE_DASHBOARD:`${Yr}/dashboard`,SECURE_SITE_FAVICON:`${Yr}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},b={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=b.getActiveNamespace(),e=b.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,s=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:s}},setWalletConnectDeepLink({name:t,href:e}){try{B.setItem(F.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=B.getItem(F.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{B.removeItem(F.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{B.setItem(F.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{B.setItem(F.ACTIVE_CAIP_NETWORK_ID,t),b.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return B.getItem(F.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{B.removeItem(F.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Kr(t);B.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=b.getRecentWallets();e.find(s=>s.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),B.setItem(F.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=B.getItem(F.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=Kr(t);B.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return B.getItem(F.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Kr(t);return B.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{B.setItem(F.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return B.getItem(F.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{B.removeItem(F.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return B.getItem(F.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var r;const t=B.getItem(F.ACTIVE_CAIP_NETWORK_ID);return(r=t==null?void 0:t.split(":"))==null?void 0:r[1]},setConnectionStatus(t){try{B.setItem(F.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return B.getItem(F.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=B.getItem(F.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));B.setItem(F.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=b.getConnectedNamespaces();e.includes(t)||(e.push(t),b.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=b.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),b.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return B.getItem(F.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{B.setItem(F.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{B.removeItem(F.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=B.getItem(F.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=b.getBalanceCache();B.setItem(F.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=b.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;b.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=b.getBalanceCache();e[t.caipAddress]=t,B.setItem(F.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=B.getItem(F.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=b.getBalanceCache();B.setItem(F.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=b.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),b.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=b.getNativeBalanceCache();e[t.caipAddress]=t,B.setItem(F.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=B.getItem(F.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=b.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;b.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=b.getEnsCache();e[t.address]=t,B.setItem(F.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=b.getEnsCache();B.setItem(F.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=B.getItem(F.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=b.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;b.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=b.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},B.setItem(F.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=b.getIdentityCache();B.setItem(F.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{B.removeItem(F.PORTFOLIO_CACHE),B.removeItem(F.NATIVE_BALANCE_CACHE),B.removeItem(F.ENS_CACHE),B.removeItem(F.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{B.setItem(F.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=B.getItem(F.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},L={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return L.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=Ce.TEN_SEC_MS:!0},isAllowedRetry(t,e=Ce.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+Ce.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...s)=>{function n(){t(...s)}r&&clearTimeout(r),r=setTimeout(n,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(L.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,href:r}},formatUniversalUrl(t,e){if(!L.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?b.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window==null||window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((r,s)=>{const n=new Image;n.onload=r,n.onerror=s,n.crossOrigin="anonymous",n.src=t});return Promise.race([e,L.wait(2e3)])},formatBalance(t,e){let r="0.000";if(typeof t=="string"){const s=Number(t);if(s){const n=Math.floor(s*1e3)/1e3;n&&(r=n.toString())}}return`${r}${e?` ${e}`:""}`},formatBalance2(t,e){var s;let r;if(t==="0")r="0";else if(typeof t=="string"){const n=Number(t);n&&(r=(s=n.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:s[0])}return{value:r??"0",rest:r==="0"?"000":"",symbol:e}},getApiUrl(){return T.W3M_API_URL},getBlockchainApiUrl(){return T.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return T.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,r;return typeof t=="string"?t:typeof((r=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:r.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((s,n)=>{r[s]=n}),e.sort((s,n)=>{const a=r[s.id],i=r[n.id];return a!==void 0&&i!==void 0?a-i:a!==void 0?-1:i!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,s]=e.split(".");return{dollars:r,pennies:s}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(s=>{const n=s[e];return r.has(n)?!1:(r.add(n),!0)})},generateSdkVersion(t,e,r){const n=t.length===0?Ce.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${n}-${r}`},createAccount(t,e,r,s,n){return{namespace:t,address:e,type:r,publicKey:s,path:n}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in T.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const n="provider_authorization_url=",a=t.substring(t.indexOf(n)+n.length),i=this.injectIntoUrl(decodeURIComponent(a),r,e);return t.replace(a,encodeURIComponent(i))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const s=t.indexOf(e);if(s===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const n=t.indexOf("&",s),a=e.length,i=n!==-1?n:t.length,o=t.substring(0,s+a),d=t.substring(s+a,i),l=t.substring(n),p=d+r;return o+p+l}};async function Wt(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Hr{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:s,...n}){const a=this.createUrl(n);return(await Wt(a,{method:"GET",headers:e,signal:r,cache:s})).json()}async getBlob({headers:e,signal:r,...s}){const n=this.createUrl(s);return(await Wt(n,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:s,...n}){const a=this.createUrl(n);return(await Wt(a,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:s})).json()}async put({body:e,headers:r,signal:s,...n}){const a=this.createUrl(n);return(await Wt(a,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:s})).json()}async delete({body:e,headers:r,signal:s,...n}){const a=this.createUrl(n);return(await Wt(a,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:s})).json()}createUrl({path:e,params:r}){const s=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([n,a])=>{a&&s.searchParams.append(n,a)}),this.clientId&&s.searchParams.append("clientId",this.clientId),s}}const Xn={handleSolanaDeeplinkRedirect(t){if(u.state.activeChain===T.CHAIN.SOLANA){const e=window.location.href,r=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const s=e.startsWith("https")?"https":"http",n=e.split("/")[2],a=encodeURIComponent(`${s}://${n}`);window.location.href=`https://phantom.app/ul/browse/${r}?ref=${a}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${r}`)}}},Se=ce({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),De={state:Se,subscribeNetworkImages(t){return Ee(Se.networkImages,()=>t(Se.networkImages))},subscribeKey(t,e){return Te(Se,t,e)},subscribe(t){return Ee(Se,()=>t(Se))},setWalletImage(t,e){Se.walletImages[t]=e},setNetworkImage(t,e){Se.networkImages[t]=e},setChainImage(t,e){Se.chainImages[t]=e},setConnectorImage(t,e){Se.connectorImages={...Se.connectorImages,[t]:e}},setTokenImage(t,e){Se.tokenImages[t]=e},setCurrencyImage(t,e){Se.currencyImages[t]=e}},Qn={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},Zr=ce({networkImagePromises:{}}),Xs={async fetchWalletImage(t){if(t)return await D._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Zr.networkImagePromises[t]||(Zr.networkImagePromises[t]=D._fetchNetworkImage(t)),await Zr.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return De.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return De.state.walletImages[t.image_id]},getNetworkImage(t){var e,r,s;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(r=t==null?void 0:t.assets)==null?void 0:r.imageUrl;if((s=t==null?void 0:t.assets)!=null&&s.imageId)return De.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return De.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return De.state.connectorImages[t.imageId]},getChainImage(t){return De.state.networkImages[Qn[t]]}},ea={getFeatureValue(t,e){const r=e==null?void 0:e[t];return r===void 0?Ce.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(L.isTelegram()){if(L.isIos())return t.filter(e=>e!=="google");if(L.isMac())return t.filter(e=>e!=="x");if(L.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},P=ce({features:Ce.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),m={state:P,subscribeKey(t,e){return Te(P,t,e)},setOptions(t){Object.assign(P,t)},setFeatures(t){if(!t)return;P.features||(P.features=Ce.DEFAULT_FEATURES);const e={...P.features,...t};P.features=e,P.features.socials&&(P.features.socials=ea.filterSocialsByPlatform(P.features.socials))},setProjectId(t){P.projectId=t},setCustomRpcUrls(t){P.customRpcUrls=t},setAllWallets(t){P.allWallets=t},setIncludeWalletIds(t){P.includeWalletIds=t},setExcludeWalletIds(t){P.excludeWalletIds=t},setFeaturedWalletIds(t){P.featuredWalletIds=t},setTokens(t){P.tokens=t},setTermsConditionsUrl(t){P.termsConditionsUrl=t},setPrivacyPolicyUrl(t){P.privacyPolicyUrl=t},setCustomWallets(t){P.customWallets=t},setIsSiweEnabled(t){P.isSiweEnabled=t},setIsUniversalProvider(t){P.isUniversalProvider=t},setSdkVersion(t){P.sdkVersion=t},setMetadata(t){P.metadata=t},setDisableAppend(t){P.disableAppend=t},setEIP6963Enabled(t){P.enableEIP6963=t},setDebug(t){P.debug=t},setEnableWalletConnect(t){P.enableWalletConnect=t},setEnableWalletGuide(t){P.enableWalletGuide=t},setEnableAuthLogger(t){P.enableAuthLogger=t},setEnableWallets(t){P.enableWallets=t},setHasMultipleAddresses(t){P.hasMultipleAddresses=t},setSIWX(t){P.siwx=t},setConnectMethodsOrder(t){P.features={...P.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){P.features={...P.features,walletFeaturesOrder:t}},setSocialsOrder(t){P.features={...P.features,socials:t}},setCollapseWallets(t){P.features={...P.features,collapseWallets:t}},setEnableEmbedded(t){P.enableEmbedded=t},setAllowUnsupportedChain(t){P.allowUnsupportedChain=t},setManualWCControl(t){P.manualWCControl=t},setEnableNetworkSwitch(t){P.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(P.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){P.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return P.universalProviderConfigOverride},getSnapshot(){return Xt(P)}},Qe=ce({message:"",variant:"info",open:!1}),zt={state:Qe,subscribeKey(t,e){return Te(Qe,t,e)},open(t,e){const{debug:r}=m.state,{shortMessage:s,longMessage:n}=t;r&&(Qe.message=s,Qe.variant=e,Qe.open=!0),n&&console.error(typeof n=="function"?n():n)},close(){Qe.open=!1,Qe.message="",Qe.variant="info"}},ta=L.getAnalyticsUrl(),ra=new Hr({baseUrl:ta,clientId:null}),sa=["MODAL_CREATED"],ze=ce({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),re={state:ze,subscribe(t){return Ee(ze,()=>t(ze))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=m.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=N.state.address;if(sa.includes(t.data.event)||typeof window>"u")return;await ra.post({path:"/e",params:re.getSdkProperties(),body:{eventId:L.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),ze.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===T.HTTP_STATUS_CODES.FORBIDDEN&&!ze.reportedErrors.FORBIDDEN&&(zt.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${Ht()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),ze.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;ze.timestamp=Date.now(),ze.data=t,(e=m.state.features)!=null&&e.analytics&&re._sendAnalyticsEvent(ze)}},na=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],aa=L.getApiUrl(),ke=new Hr({baseUrl:aa,clientId:null}),ia=40,ys=4,oa=20,Z=ce({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),D={state:Z,subscribeKey(t,e){return Te(Z,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=m.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return m.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ke.baseUrl}/getWalletImage/${t}`,r=await ke.getBlob({path:e,params:D._getSdkProperties()});De.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${ke.baseUrl}/public/getAssetImage/${t}`,r=await ke.getBlob({path:e,params:D._getSdkProperties()});De.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${ke.baseUrl}/public/getAssetImage/${t}`,r=await ke.getBlob({path:e,params:D._getSdkProperties()});De.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${ke.baseUrl}/public/getCurrencyImage/${t}`,r=await ke.getBlob({path:e,params:D._getSdkProperties()});De.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${ke.baseUrl}/public/getTokenImage/${t}`,r=await ke.getBlob({path:e,params:D._getSdkProperties()});De.setTokenImage(t,URL.createObjectURL(r))},async fetchNetworkImages(){const t=u.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:r})=>r==null?void 0:r.imageId).filter(Boolean).filter(r=>!Xs.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>D._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=$.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>D._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>D._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>D._fetchTokenImage(e)))},async fetchWallets(t){var s,n;const e=t.exclude??[];return D._getSdkProperties().sv.startsWith("html-core-")&&e.push(...na),await ke.get({path:"/getWallets",params:{...D._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(s=t.include)==null?void 0:s.join(","),exclude:(n=t.exclude)==null?void 0:n.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=m.state;if(t!=null&&t.length){const e={...D._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??ys,include:t},{data:r}=await D.fetchWallets(e);r.sort((n,a)=>t.indexOf(n.id)-t.indexOf(a.id));const s=r.map(n=>n.image_id).filter(Boolean);await Promise.allSettled(s.map(n=>D._fetchWalletImage(n))),Z.featured=r,Z.allFeatured=r}},async fetchRecommendedWallets(){try{Z.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=m.state,s=[...e??[],...r??[]].filter(Boolean),n=u.getRequestedCaipNetworkIds().join(","),a={page:1,entries:ys,include:t,exclude:s,chains:n},{data:i,count:o}=await D.fetchWallets(a),d=b.getRecentWallets(),l=i.map(h=>h.image_id).filter(Boolean),p=d.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...p].map(h=>D._fetchWalletImage(h))),Z.recommended=i,Z.allRecommended=i,Z.count=o??0}catch{}finally{Z.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:s}=m.state,n=u.getRequestedCaipNetworkIds().join(","),a=[...Z.recommended.map(({id:p})=>p),...r??[],...s??[]].filter(Boolean),i={page:t,entries:ia,include:e,exclude:a,chains:n},{data:o,count:d}=await D.fetchWallets(i),l=o.slice(0,oa).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(l.map(p=>D._fetchWalletImage(p))),Z.wallets=L.uniqueBy([...Z.wallets,...D._filterOutExtensions(o)],"id"),Z.count=d>Z.count?d:Z.count,Z.page=t},async initializeExcludedWallets({ids:t}){const e=u.getRequestedCaipNetworkIds().join(","),r={page:1,entries:t.length,include:t,chains:e},{data:s}=await D.fetchWallets(r);s&&s.forEach(n=>{Z.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:s}=m.state,n=u.getRequestedCaipNetworkIds().join(",");Z.search=[];const a={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:r,exclude:s,chains:n},{data:i}=await D.fetchWallets(a);re.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=i.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...o.map(d=>D._fetchWalletImage(d)),L.wait(300)]),Z.search=D._filterOutExtensions(i)},initPromise(t,e){const r=Z.promises[t];return r||(Z.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:s=!0}={}){const n=[t&&D.initPromise("connectorImages",D.fetchConnectorImages),e&&D.initPromise("featuredWallets",D.fetchFeaturedWallets),r&&D.initPromise("recommendedWallets",D.fetchRecommendedWallets),s&&D.initPromise("networkImages",D.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(n)},prefetchAnalyticsConfig(){var t;(t=m.state.features)!=null&&t.analytics&&D.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ke.get({path:"/getAnalyticsConfig",params:D._getSdkProperties()});m.setFeatures({analytics:t})}catch{m.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Z.featured=Z.allFeatured,Z.recommended=Z.allRecommended;return}const e=u.getRequestedCaipNetworkIds().join(",");Z.featured=Z.allFeatured.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))}),Z.recommended=Z.allRecommended.filter(r=>{var s;return(s=r.chains)==null?void 0:s.some(n=>e.includes(n))})}},Y=ce({view:"Connect",history:["Connect"],transactionStack:[]}),X={state:Y,subscribeKey(t,e){return Te(Y,t,e)},pushTransactionStack(t){Y.transactionStack.push(t)},popTransactionStack(t){var r,s;const e=Y.transactionStack.pop();if(e)if(t)this.goBack(),(r=e==null?void 0:e.onCancel)==null||r.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const a=Y.history.indexOf("ConnectingSiwe");a>0?this.goBackToIndex(a-1):(de.close(),Y.history=[])}else e.view&&this.reset(e.view);(s=e==null?void 0:e.onSuccess)==null||s.call(e)}},push(t,e){t!==Y.view&&(Y.view=t,Y.history.push(t),Y.data=e)},reset(t,e){Y.view=t,Y.history=[t],Y.data=e},replace(t,e){Y.history.at(-1)===t||(Y.view=t,Y.history[Y.history.length-1]=t,Y.data=e)},goBack(){var e;const t=!u.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(Y.history.length>1&&!Y.history.includes("UnsupportedChain")){Y.history.pop();const[r]=Y.history.slice(-1);r&&(Y.view=r)}else de.close();(e=Y.data)!=null&&e.wallet&&(Y.data.wallet=void 0),setTimeout(()=>{var r,s,n;if(t){N.setFarcasterUrl(void 0,u.state.activeChain);const a=$.getAuthConnector();(r=a==null?void 0:a.provider)==null||r.reload();const i=Xt(m.state);(n=(s=a==null?void 0:a.provider)==null?void 0:s.syncDappData)==null||n.call(s,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(Y.history.length>1){Y.history=Y.history.slice(0,t+1);const[e]=Y.history.slice(-1);e&&(Y.view=e)}}},qe=ce({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ge={state:qe,subscribe(t){return Ee(qe,()=>t(qe))},setThemeMode(t){qe.themeMode=t;try{const e=$.getAuthConnector();if(e){const r=ge.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:Ke(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){qe.themeVariables={...qe.themeVariables,...t};try{const e=$.getAuthConnector();if(e){const r=ge.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:Ke(qe.themeVariables,qe.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Xt(qe)}},Qs={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},J=ce({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...Qs}}),$={state:J,subscribe(t){return Ee(J,()=>{t(J)})},subscribeKey(t,e){return Te(J,t,e)},initialize(t){t.forEach(e=>{const r=b.getConnectedConnectorId(e);r&&this.setConnectorId(r,e)})},setActiveConnector(t){t&&(J.activeConnector=ft(t))},setConnectors(t){t.filter(r=>!J.allConnectors.some(s=>s.id===r.id&&this.getConnectorName(s.name)===this.getConnectorName(r.name)&&s.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&J.allConnectors.push(ft(r))}),J.connectors=this.mergeMultiChainConnectors(J.allConnectors)},removeAdapter(t){J.allConnectors=J.allConnectors.filter(e=>e.chain!==t),J.connectors=this.mergeMultiChainConnectors(J.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),r=[];return e.forEach(s=>{const n=s[0],a=(n==null?void 0:n.id)===T.CONNECTOR_ID.AUTH;s.length>1&&n?r.push({name:n.name,imageUrl:n.imageUrl,imageId:n.imageId,connectors:[...s],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(n==null?void 0:n.id)||""}):n&&r.push(n)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:s}=r,n=this.getConnectorName(s);if(!n)return;const a=e.get(n)||[];a.find(o=>o.chain===r.chain)||a.push(r),e.set(n,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(s=>s.chain===r.chain)||e.push(r)}),e},addConnector(t){var e,r,s;if(t.id===T.CONNECTOR_ID.AUTH){const n=t,a=Xt(m.state),i=ge.getSnapshot().themeMode,o=ge.getSnapshot().themeVariables;(r=(e=n==null?void 0:n.provider)==null?void 0:e.syncDappData)==null||r.call(e,{metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),(s=n==null?void 0:n.provider)==null||s.syncTheme({themeMode:i,themeVariables:o,w3mThemeVariables:Ke(o,i)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var s;const e=t||u.state.activeChain,r=J.connectors.find(n=>n.id===T.CONNECTOR_ID.AUTH);if(r)return(s=r==null?void 0:r.connectors)!=null&&s.length?r.connectors.find(a=>a.chain===e):r},getAnnouncedConnectorRdns(){return J.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return J.allConnectors.find(e=>e.id===t)},getConnector(t,e){return J.allConnectors.filter(s=>s.chain===u.state.activeChain).find(s=>{var n;return s.explorerId===t||((n=s.info)==null?void 0:n.rdns)===e})},syncIfAuthConnector(t){var a,i;if(t.id!=="ID_AUTH")return;const e=t,r=Xt(m.state),s=ge.getSnapshot().themeMode,n=ge.getSnapshot().themeVariables;(i=(a=e==null?void 0:e.provider)==null?void 0:a.syncDappData)==null||i.call(a,{metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:s,themeVariables:n,w3mThemeVariables:Ke(n,s)})},getConnectorsByNamespace(t){const e=J.allConnectors.filter(r=>r.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=$.getConnector(t.id,t.rdns);u.state.activeChain===T.CHAIN.SOLANA&&Xn.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?X.push("ConnectingExternal",{connector:e}):X.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(J.allConnectors)},setFilterByNamespace(t){J.filterByNamespace=t,J.connectors=this.getConnectors(t),D.setFilterByNamespace(t)},setConnectorId(t,e){t&&(J.activeConnectorIds={...J.activeConnectorIds,[e]:t},b.setConnectedConnectorId(e,t))},removeConnectorId(t){J.activeConnectorIds={...J.activeConnectorIds,[t]:void 0},b.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return J.activeConnectorIds[t]},isConnected(t){return t?!!J.activeConnectorIds[t]:Object.values(J.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){J.activeConnectorIds={...Qs}}};function yr(t,e){return $.getConnectorId(t)===e}function ca(t){const e=Array.from(u.state.chains.keys());let r=[];return t?(r.push([t,u.state.chains.get(t)]),yr(t,T.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(s=>{s!==t&&yr(s,T.CONNECTOR_ID.WALLET_CONNECT)&&r.push([s,u.state.chains.get(s)])}):yr(t,T.CONNECTOR_ID.AUTH)&&e.forEach(s=>{s!==t&&yr(s,T.CONNECTOR_ID.AUTH)&&r.push([s,u.state.chains.get(s)])})):r=Array.from(u.state.chains.entries()),r}var Ot={};const la="https://secure.walletconnect.org/sdk",da=(typeof process<"u"&&typeof Ot<"u"?Ot.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||la,ua=(typeof process<"u"&&typeof Ot<"u"?Ot.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",pa=(typeof process<"u"&&typeof Ot<"u"?Ot.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",S={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},ue={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},dt=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),pe=ce({...dt}),me={state:pe,subscribeKey(t,e){return Te(pe,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=L.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){pe.message=dt.message,pe.variant=dt.variant,pe.svg=dt.svg,pe.open=dt.open,pe.autoClose=dt.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:s=dt.autoClose}){pe.open?(pe.open=!1,setTimeout(()=>{pe.message=t,pe.variant=r,pe.svg=e,pe.open=!0,pe.autoClose=s},150)):(pe.message=t,pe.variant=r,pe.svg=e,pe.open=!0,pe.autoClose=s)}},qt={getSIWX(){return m.state.siwx},async initializeIfEnabled(){var a;const t=m.state.siwx,e=u.getActiveCaipAddress();if(!(t&&e))return;const[r,s,n]=e.split(":");if(u.checkIfSupportedNetwork(r))try{if((await t.getSessions(`${r}:${s}`,n)).length)return;await de.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),re.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=ie._getClient())==null?void 0:a.disconnect().catch(console.error)),X.reset("Connect"),me.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=m.state.siwx,e=L.getPlainAddress(u.getActiveCaipAddress()),r=u.getActiveCaipNetwork(),s=ie._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!s)throw new Error("No ConnectionController client found");try{const n=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),a=n.toString();$.getConnectorId(r.chainNamespace)===T.CONNECTOR_ID.AUTH&&X.pushTransactionStack({view:null,goBack:!1,replace:!0});const o=await s.signMessage(a);await t.addSession({data:n,message:a,signature:o}),de.close(),re.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){const a=this.getSIWXEventProperties();(!de.state.open||X.state.view==="ApproveTransaction")&&await de.open({view:"SIWXSignMessage"}),a.isSmartAccount?me.showError("This application might not support Smart Accounts"):me.showError("Signature declined"),re.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await ie.disconnect():de.close(),X.reset("Connect"),re.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=m.state.siwx,e=L.getPlainAddress(u.getActiveCaipAddress()),r=u.getActiveCaipNetwork();return t&&e&&r?t.getSessions(r.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const r=X.state.view==="ApproveTransaction",s=X.state.view==="SIWXSignMessage";if(r||s)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){var o,d,l;const s=qt.getSIWX(),n=new Set(e.map(p=>p.split(":")[0]));if(!s||n.size!==1||!n.has("eip155"))return!1;const a=await s.createMessage({chainId:((o=u.getActiveCaipNetwork())==null?void 0:o.caipNetworkId)||"",accountAddress:""}),i=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:r,chains:[a.chainId,...e.filter(p=>p!==a.chainId)]});if(me.showLoading("Authenticating...",{autoClose:!1}),N.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(d=i.session.peer.metadata.icons)==null?void 0:d[0],type:"WALLET_CONNECT"},Array.from(n)[0]),(l=i==null?void 0:i.auths)!=null&&l.length){const p=i.auths.map(h=>{const C=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(":").slice(-1).join(""),chainId:h.p.iss.split(":").slice(2,4).join(":"),uri:h.p.aud,version:h.p.version||a.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:C,signature:h.s.s,cacao:h}});try{await s.setSessions(p),re.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:qt.getSIWXEventProperties()})}catch(h){throw console.error("SIWX:universalProviderAuth - failed to set sessions",h),re.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:qt.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{me.hide()}}return!0},getSIWXEventProperties(){var e,r;const t=u.state.activeChain;return{network:((e=u.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((r=N.state.preferredAccountTypes)==null?void 0:r[t])===ue.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},ne=ce({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ha={state:ne,subscribe(t){return Ee(ne,()=>t(ne))},setLastNetworkInView(t){ne.lastNetworkInView=t},async fetchTransactions(t,e){var r,s;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");ne.loading=!0;try{const n=await U.fetchTransactions({account:t,cursor:ne.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId}),a=this.filterSpamTransactions(n.data),i=this.filterByConnectedChain(a),o=[...ne.transactions,...i];ne.loading=!1,e==="coinbase"?ne.coinbaseTransactions=this.groupTransactionsByYearAndMonth(ne.coinbaseTransactions,n.data):(ne.transactions=o,ne.transactionsByYear=this.groupTransactionsByYearAndMonth(ne.transactionsByYear,i)),ne.empty=o.length===0,ne.next=n.next?n.next:void 0}catch{const a=u.state.activeChain;re.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:m.state.projectId,cursor:ne.next,isSmartAccount:((s=N.state.preferredAccountTypes)==null?void 0:s[a])===ue.ACCOUNT_TYPES.SMART_ACCOUNT}}),me.showError("Failed to fetch transactions"),ne.loading=!1,ne.empty=!0,ne.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(s=>{const n=new Date(s.metadata.minedAt).getFullYear(),a=new Date(s.metadata.minedAt).getMonth(),i=r[n]??{},d=(i[a]??[]).filter(l=>l.id!==s.id);r[n]={...i,[a]:[...d,s].sort((l,p)=>new Date(p.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(s=>{var n;return((n=s.nft_info)==null?void 0:n.flags.is_spam)===!0}))},filterByConnectedChain(t){var s;const e=(s=u.state.activeCaipNetwork)==null?void 0:s.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){ne.next=void 0},resetTransactions(){ne.transactions=[],ne.transactionsByYear={},ne.lastNetworkInView=void 0,ne.loading=!1,ne.empty=!1,ne.next=void 0}},ae=ce({wcError:!1,buffering:!1,status:"disconnected"});let vt;const ie={state:ae,subscribeKey(t,e){return Te(ae,t,e)},_getClient(){return ae._client},setClient(t){ae._client=ft(t)},async connectWalletConnect(){var t,e,r,s;if(L.isTelegram()||L.isSafari()&&L.isIos()){if(vt){await vt,vt=void 0;return}if(!L.isPairingExpired(ae==null?void 0:ae.wcPairingExpiry)){const n=ae.wcUri;ae.wcUri=n;return}vt=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await vt,vt=void 0,ae.wcPairingExpiry=void 0,this.state.status="connected"}else await((s=(r=this._getClient())==null?void 0:r.connectWalletConnect)==null?void 0:s.call(r))},async connectExternal(t,e,r=!0){var s,n;await((n=(s=this._getClient())==null?void 0:s.connectExternal)==null?void 0:n.call(s,t)),r&&u.setActiveNamespace(e)},async reconnectExternal(t){var r,s;await((s=(r=this._getClient())==null?void 0:r.reconnectExternal)==null?void 0:s.call(r,t));const e=t.chain||u.state.activeChain;e&&$.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var s;de.setLoading(!0,u.state.activeChain);const r=$.getAuthConnector();r&&(N.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),b.setPreferredAccountTypes(N.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(r),de.setLoading(!1,u.state.activeChain),re.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((s=u.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.parseUnits(t,e)},formatUnits(t,e){var r;return(r=this._getClient())==null?void 0:r.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,r;return((r=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:r.call(e,t))||!1},resetWcConnection(){ae.wcUri=void 0,ae.wcPairingExpiry=void 0,ae.wcLinking=void 0,ae.recentWallet=void 0,ae.status="disconnected",ha.resetTransactions(),b.deleteWalletConnectDeepLink()},resetUri(){ae.wcUri=void 0,ae.wcPairingExpiry=void 0},finalizeWcConnection(){var r,s;const{wcLinking:t,recentWallet:e}=ie.state;t&&b.setWalletConnectDeepLink(t),e&&b.setAppKitRecent(e),re.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((s=(r=X.state.data)==null?void 0:r.wallet)==null?void 0:s.name)||"Unknown"}})},setWcBasic(t){ae.wcBasic=t},setUri(t){ae.wcUri=t,ae.wcPairingExpiry=L.getPairingExpiry()},setWcLinking(t){ae.wcLinking=t},setWcError(t){ae.wcError=t,ae.buffering=!1},setRecentWallet(t){ae.recentWallet=t},setBuffering(t){ae.buffering=t},setStatus(t){ae.status=t},async disconnect(t){try{de.setLoading(!0,t),await qt.clearSessions(),await u.disconnect(t),de.setLoading(!1,t),$.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},Nt=ce({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),He={state:Nt,subscribe(t){return Ee(Nt,()=>t(Nt))},subscribeOpen(t){return Te(Nt,"open",t)},set(t){Object.assign(Nt,{...Nt,...t})}},Jr={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Sn(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],s=parseInt(r,10);return isNaN(s)?"0x0":`0x${s.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},vs={async getMyTokensWithBalance(t){const e=N.state.address,r=u.state.activeCaipNetwork;if(!e||!r)return[];if(r.chainNamespace==="eip155"){const n=await this.getEIP155Balances(e,r);if(n)return this.filterLowQualityTokens(n)}const s=await U.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(s.balances)},async getEIP155Balances(t,e){var r,s;try{const n=Jr.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),a=await ie.getCapabilities(t);if(!((s=(r=a==null?void 0:a[n])==null?void 0:r.assetDiscovery)!=null&&s.supported))return null;const i=await ie.walletGetAssets({account:t,chainFilter:[n]});return Jr.isWalletGetAssetsResponse(i)?(i[n]||[]).map(d=>Jr.createBalance(d,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:u.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},z=ce({tokenBalances:[],loading:!1}),Ns={state:z,subscribe(t){return Ee(z,()=>t(z))},subscribeKey(t,e){return Te(z,t,e)},setToken(t){t&&(z.token=ft(t))},setTokenAmount(t){z.sendTokenAmount=t},setReceiverAddress(t){z.receiverAddress=t},setReceiverProfileImageUrl(t){z.receiverProfileImageUrl=t},setReceiverProfileName(t){z.receiverProfileName=t},setGasPrice(t){z.gasPrice=t},setGasPriceInUsd(t){z.gasPriceInUSD=t},setNetworkBalanceInUsd(t){z.networkBalanceInUSD=t},setLoading(t){z.loading=t},sendToken(){var t;switch((t=u.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var r,s,n,a,i,o;const t=u.state.activeChain,e=(r=N.state.preferredAccountTypes)==null?void 0:r[t];(s=this.state.token)!=null&&s.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(re.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ue.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((a=this.state.token)!=null&&a.quantity.decimals)&&(re.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===ue.ACCOUNT_TYPES.SMART_ACCOUNT,token:(i=this.state.token)==null?void 0:i.symbol,amount:this.state.sendTokenAmount,network:((o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var a,i;z.loading=!0;const e=(a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,r=(i=u.state.activeCaipNetwork)==null?void 0:i.chainNamespace,s=u.state.activeCaipAddress,n=s?L.getPlainAddress(s):void 0;if(z.lastRetry&&!L.isAllowedRetry(z.lastRetry,30*Ce.ONE_SEC_MS))return z.loading=!1,[];try{if(n&&e&&r){const o=await vs.getMyTokensWithBalance();return z.tokenBalances=o,z.lastRetry=void 0,o}}catch(o){z.lastRetry=Date.now(),t==null||t(o),me.showError("Token Balance Unavailable")}finally{z.loading=!1}return[]},fetchNetworkBalance(){if(z.tokenBalances.length===0)return;const t=vs.mapBalancesToSwapTokens(z.tokenBalances);if(!t)return;const e=t.find(r=>r.address===u.getActiveNetworkTokenAddress());e&&(z.networkBalanceInUSD=e?Ar.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const r=e||"0";return Ar.bigNumber(t).eq(0)?!0:Ar.bigNumber(Ar.bigNumber(r)).gt(t)},hasInsufficientGasFunds(){var r;const t=u.state.activeChain;let e=!0;return((r=N.state.preferredAccountTypes)==null?void 0:r[t])===ue.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:z.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(z.networkBalanceInUSD,z.gasPriceInUSD)),e},async sendNativeToken(t){var i,o,d,l,p,h;const e=u.state.activeChain;X.pushTransactionStack({view:"Account",goBack:!1});const r=t.receiverAddress,s=N.state.address,n=ie.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),a="0x";try{await ie.sendTransaction({chainNamespace:"eip155",to:r,address:s,data:a,value:n??BigInt(0),gasPrice:t.gasPrice}),me.showSuccess("Transaction started"),re.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((i=N.state.preferredAccountTypes)==null?void 0:i[e])===ue.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=this.state.token)==null?void 0:o.symbol)||"",amount:t.sendTokenAmount,network:((d=u.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||""}}),this.resetSend()}catch(C){console.error("SendController:sendERC20Token - failed to send native token",C);const w=C instanceof Error?C.message:"Unknown error";re.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:w,isSmartAccount:((l=N.state.preferredAccountTypes)==null?void 0:l[e])===ue.ACCOUNT_TYPES.SMART_ACCOUNT,token:((p=this.state.token)==null?void 0:p.symbol)||"",amount:t.sendTokenAmount,network:((h=u.state.activeCaipNetwork)==null?void 0:h.caipNetworkId)||""}}),me.showError("Something went wrong")}},async sendERC20Token(t){var r,s,n;X.pushTransactionStack({view:"Account",goBack:!1});const e=ie.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(N.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const a=L.getPlainAddress(t.tokenAddress);await ie.writeContract({fromAddress:N.state.address,tokenAddress:a,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Jn.getERC20Abi(a),chainNamespace:"eip155"}),me.showSuccess("Transaction started"),this.resetSend()}}catch(a){console.error("SendController:sendERC20Token - failed to send erc20 token",a);const i=a instanceof Error?a.message:"Unknown error";re.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:i,isSmartAccount:((r=N.state.preferredAccountTypes)==null?void 0:r.eip155)===ue.ACCOUNT_TYPES.SMART_ACCOUNT,token:((s=this.state.token)==null?void 0:s.symbol)||"",amount:t.sendTokenAmount,network:((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)||""}}),me.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){me.showError("Please enter a valid amount and receiver address");return}X.pushTransactionStack({view:"Account",goBack:!1}),ie.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),N.fetchTokenBalance()}).catch(t=>{me.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){z.token=void 0,z.sendTokenAmount=void 0,z.receiverAddress=void 0,z.receiverProfileImageUrl=void 0,z.receiverProfileName=void 0,z.loading=!1,z.tokenBalances=[]}},Xr={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},vr={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},_=ce({chains:Bn(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),u={state:_,subscribe(t){return Ee(_,()=>{t(_)})},subscribeKey(t,e){return Te(_,t,e)},subscribeChainProp(t,e,r){let s;return Ee(_.chains,()=>{var a;const n=r||_.activeChain;if(n){const i=(a=_.chains.get(n))==null?void 0:a[t];s!==i&&(s=i,e(i))}})},initialize(t,e,r){const{chainId:s,namespace:n}=b.getActiveNetworkProps(),a=e==null?void 0:e.find(l=>l.id.toString()===(s==null?void 0:s.toString())),o=t.find(l=>(l==null?void 0:l.namespace)===n)||(t==null?void 0:t[0]),d=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!o)&&(_.noAdapters=!0),_.noAdapters||(_.activeChain=o==null?void 0:o.namespace,_.activeCaipNetwork=a,this.setChainNetworkData(o==null?void 0:o.namespace,{caipNetwork:a}),_.activeChain&&He.set({activeChain:o==null?void 0:o.namespace})),d.forEach(l=>{const p=e==null?void 0:e.filter(h=>h.chainNamespace===l);u.state.chains.set(l,{namespace:l,networkState:ce({...vr,caipNetwork:p==null?void 0:p[0]}),accountState:ce(Xr),caipNetworks:p??[],...r}),this.setRequestedCaipNetworks(p??[],l)})},removeAdapter(t){var e,r;if(_.activeChain===t){const s=Array.from(_.chains.entries()).find(([n])=>n!==t);if(s){const n=(r=(e=s[1])==null?void 0:e.caipNetworks)==null?void 0:r[0];n&&this.setActiveCaipNetwork(n)}}_.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},s){_.chains.set(t.namespace,{namespace:t.namespace,networkState:{...vr,caipNetwork:s[0]},accountState:Xr,caipNetworks:s,connectionControllerClient:r,networkControllerClient:e}),this.setRequestedCaipNetworks((s==null?void 0:s.filter(n=>n.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var r;const e=_.chains.get(t.chainNamespace);if(e){const s=[...e.caipNetworks||[]];(r=e.caipNetworks)!=null&&r.find(n=>n.id===t.id)||s.push(t),_.chains.set(t.chainNamespace,{...e,caipNetworks:s}),this.setRequestedCaipNetworks(s,t.chainNamespace)}},removeNetwork(t,e){var s,n,a;const r=_.chains.get(t);if(r){const i=((s=_.activeCaipNetwork)==null?void 0:s.id)===e,o=[...((n=r.caipNetworks)==null?void 0:n.filter(d=>d.id!==e))||[]];i&&((a=r==null?void 0:r.caipNetworks)!=null&&a[0])&&this.setActiveCaipNetwork(r.caipNetworks[0]),_.chains.set(t,{...r,caipNetworks:o}),this.setRequestedCaipNetworks(o||[],t)}},setAdapterNetworkState(t,e){const r=_.chains.get(t);r&&(r.networkState={...r.networkState||vr,...e},_.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const s=_.chains.get(t);if(s){const n={...s.accountState||Xr,...e};_.chains.set(t,{...s,accountState:n}),(_.chains.size===1||_.activeChain===t)&&(e.caipAddress&&(_.activeCaipAddress=e.caipAddress),N.replaceState(n))}},setChainNetworkData(t,e){if(!t)return;const r=_.chains.get(t);if(r){const s={...r.networkState||vr,...e};_.chains.set(t,{...r,networkState:s})}},setAccountProp(t,e,r,s=!0){this.setChainAccountData(r,{[t]:e},s),t==="status"&&e==="disconnected"&&r&&$.removeConnectorId(r)},setActiveNamespace(t){var s,n;_.activeChain=t;const e=t?_.chains.get(t):void 0,r=(s=e==null?void 0:e.networkState)==null?void 0:s.caipNetwork;r!=null&&r.id&&t&&(_.activeCaipAddress=(n=e==null?void 0:e.accountState)==null?void 0:n.caipAddress,_.activeCaipNetwork=r,this.setChainNetworkData(t,{caipNetwork:r}),b.setActiveCaipNetworkId(r==null?void 0:r.caipNetworkId),He.set({activeChain:t,selectedNetworkId:r==null?void 0:r.caipNetworkId}))},setActiveCaipNetwork(t){var s,n,a;if(!t)return;_.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=_.chains.get(t.chainNamespace);_.activeChain=t.chainNamespace,_.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(s=e==null?void 0:e.accountState)!=null&&s.address?_.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(n=e==null?void 0:e.accountState)==null?void 0:n.address}`:_.activeCaipAddress=void 0,this.setAccountProp("caipAddress",_.activeCaipAddress,t.chainNamespace),e&&N.replaceState(e.accountState),Ns.resetSend(),He.set({activeChain:_.activeChain,selectedNetworkId:(a=_.activeCaipNetwork)==null?void 0:a.caipNetworkId}),b.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&m.state.enableNetworkSwitch&&!m.state.allowUnsupportedChain&&!ie.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var r;if(!t)return;const e=_.chains.get(t.chainNamespace);e&&((r=e==null?void 0:e.caipNetworks)==null||r.push(t))},async switchActiveNamespace(t){var n;if(!t)return;const e=t!==u.state.activeChain,r=(n=u.getNetworkData(t))==null?void 0:n.caipNetwork,s=u.getCaipNetworkByNamespace(t,r==null?void 0:r.id);e&&s&&await u.switchActiveNetwork(s)},async switchActiveNetwork(t){var n;const e=u.state.chains.get(u.state.activeChain);!((n=e==null?void 0:e.caipNetworks)!=null&&n.some(a=>{var i;return a.id===((i=_.activeCaipNetwork)==null?void 0:i.id)}))&&X.goBack();const s=this.getNetworkControllerClient(t.chainNamespace);s&&(await s.switchCaipNetwork(t),re.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||_.activeChain,r=_.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||_.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=_.chains.get(e);if(!(r!=null&&r.connectionControllerClient))throw new Error("ConnectionController client not set");return r.connectionControllerClient},getAccountProp(t,e){var n;let r=_.activeChain;if(e&&(r=e),!r)return;const s=(n=_.chains.get(r))==null?void 0:n.accountState;if(s)return s[t]},getNetworkProp(t,e){var s;const r=(s=_.chains.get(e))==null?void 0:s.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=_.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:s=[]}=(e==null?void 0:e.networkState)||{};return L.sortRequestedNetworks(r,s)},getAllRequestedCaipNetworks(){const t=[];return _.chains.forEach(e=>{const r=this.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return _.chains.forEach(e=>{const r=this.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(){return _.activeCaipNetwork},getActiveCaipAddress(){return _.activeCaipAddress},getApprovedCaipNetworkIds(t){var s;const e=_.chains.get(t);return((s=e==null?void 0:e.networkState)==null?void 0:s.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),r=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:r==null?void 0:r.approvedCaipNetworkIds,supportsAllNetworks:r==null?void 0:r.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||_.activeCaipNetwork,s=this.getRequestedCaipNetworks(t);return s.length?s==null?void 0:s.some(n=>n.id===(r==null?void 0:r.id)):!0},checkIfSupportedChainId(t){if(!_.activeChain)return!0;const e=this.getRequestedCaipNetworks(_.activeChain);return e==null?void 0:e.some(r=>r.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var s;const t=Ys.caipNetworkIdToNumber((s=_.activeCaipNetwork)==null?void 0:s.caipNetworkId),e=_.activeChain;if(!e||!t)return!1;const r=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(r!=null&&r.includes(Number(t)))},getActiveNetworkTokenAddress(){var s,n;const t=((s=_.activeCaipNetwork)==null?void 0:s.chainNamespace)||"eip155",e=((n=_.activeCaipNetwork)==null?void 0:n.id)||1,r=Ce.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`},showUnsupportedChainUI(){de.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=_.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Ce.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");_.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),$.removeConnectorId(e)},async disconnect(t){const e=ca(t);try{Ns.resetSend();const r=await Promise.allSettled(e.map(async([n,a])=>{var i;try{const{caipAddress:o}=this.getAccountData(n)||{};o&&((i=a.connectionControllerClient)!=null&&i.disconnect)&&await a.connectionControllerClient.disconnect(n),this.resetAccount(n),this.resetNetwork(n)}catch(o){throw new Error(`Failed to disconnect chain ${n}: ${o.message}`)}}));ie.resetWcConnection();const s=r.filter(n=>n.status==="rejected");if(s.length>0)throw new Error(s.map(n=>n.reason.message).join(", "));b.deleteConnectedSocialProvider(),t?$.removeConnectorId(t):$.resetConnectorIds(),re.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(r){console.error(r.message||"Failed to disconnect chains"),re.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){_.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var r,s;const t=[];let e;if(_.chains.forEach(n=>{T.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(a=>a===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?(s=(r=_.chains.get(n))==null?void 0:r.caipNetworks)==null?void 0:s[0]:void 0,e}},getAccountData(t){var e;return t?(e=u.state.chains.get(t))==null?void 0:e.accountState:N.state},getNetworkData(t){var r;const e=t||_.activeChain;if(e)return(r=u.state.chains.get(e))==null?void 0:r.networkState},getCaipNetworkByNamespace(t,e){var n,a,i;if(!t)return;const r=u.state.chains.get(t),s=(n=r==null?void 0:r.caipNetworks)==null?void 0:n.find(o=>o.id===e);return s||((a=r==null?void 0:r.networkState)==null?void 0:a.caipNetwork)||((i=r==null?void 0:r.caipNetworks)==null?void 0:i[0])},getRequestedCaipNetworkIds(){const t=$.state.filterByNamespace;return(t?[_.chains.get(t)]:Array.from(_.chains.values())).flatMap(r=>(r==null?void 0:r.caipNetworks)||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?u.getRequestedCaipNetworks(t):u.getAllRequestedCaipNetworks()}},fa={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},en=L.getBlockchainApiUrl(),Ie=ce({clientId:null,api:new Hr({baseUrl:en,clientId:null}),supportedChains:{http:[],ws:[]}}),U={state:Ie,async get(t){const{st:e,sv:r}=U.getSdkProperties(),s=m.state.projectId,n={...t.params||{},st:e,sv:r,projectId:s};return Ie.api.get({...t,params:n})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=m.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{Ie.supportedChains.http.length||await U.getSupportedNetworks()}catch{return!1}return Ie.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await U.get({path:"v1/supported-chains"});return Ie.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await U.isNetworkSupported(e))return{avatar:"",name:""};const s=b.getIdentityFromCacheForAddress(t);if(s)return s;const n=await U.get({path:`/v1/identity/${t}`,params:{sender:u.state.activeCaipAddress?L.getPlainAddress(u.state.activeCaipAddress):void 0}});return b.updateIdentityCache({address:t,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:t,cursor:e,onramp:r,signal:s,cache:n,chainId:a}){var o;return await U.isNetworkSupported((o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?U.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:r,chainId:a},signal:s,cache:n}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:s,gasPrice:n}){var i;return await U.isNetworkSupported((i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?U.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:s,gasPrice:n}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var r;return await U.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?U.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var r;return await U.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?Ie.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:m.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var s;return await U.isNetworkSupported((s=u.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?U.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var n;const{st:e,sv:r}=U.getSdkProperties();if(!await U.isNetworkSupported((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId))throw new Error("Network not supported for Gas Price");return U.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:s,disableEstimate:n}){var i;if(!await U.isNetworkSupported((i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Swaps");return Ie.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:Ce.CONVERT_SLIPPAGE_TOLERANCE},projectId:m.state.projectId,from:e,to:r,userAddress:s,disableEstimate:n}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){var i;const{st:s,sv:n}=U.getSdkProperties();if(!await U.isNetworkSupported((i=u.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Swaps");return U.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:s,sv:n}})},async getBalance(t,e,r){var l;const{st:s,sv:n}=U.getSdkProperties();if(!await U.isNetworkSupported((l=u.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return me.showError("Token Balance Unavailable"),{balances:[]};const i=`${e}:${t}`,o=b.getBalanceCacheForCaipAddress(i);if(o)return o;const d=await U.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:s,sv:n}});return b.updateBalanceCache({caipAddress:i,balance:d,timestamp:Date.now()}),d},async lookupEnsName(t){var r;return await U.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?U.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var r;return await U.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?U.get({path:`/v1/profile/reverse/${t}`,params:{sender:N.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var r;return await U.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?U.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:s}){var a;return await U.isNetworkSupported((a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?Ie.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:s},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:s,paymentAmount:n}){var o;return await U.isNetworkSupported((o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?(await Ie.api.post({path:"/v1/generators/onrampurl",params:{projectId:m.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:s,presetFiatAmount:n}})).url:""},async getOnrampOptions(){var e;if(!await U.isNetworkSupported((e=u.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await U.get({path:"/v1/onramp/options"})}catch{return fa}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:s}){var n;try{return await U.isNetworkSupported((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?await Ie.api.post({path:"/v1/onramp/quote",params:{projectId:m.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:s}}):null}catch{return{coinbaseFee:{amount:r,currency:e.id},networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var r;return await U.isNetworkSupported((r=u.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?U.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){var n;return await U.isNetworkSupported((n=u.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Ie.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:m.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){Ie.clientId=t,Ie.api=new Hr({baseUrl:en,clientId:t})}},Oe=ce({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),N={state:Oe,replaceState(t){t&&Object.assign(Oe,ft(t))},subscribe(t){return u.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let s;return u.subscribeChainProp("accountState",n=>{if(n){const a=n[t];s!==a&&(s=a,e(a))}},r)},setStatus(t,e){u.setAccountProp("status",t,e)},getCaipAddress(t){return u.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const r=t?L.getPlainAddress(t):void 0;e===u.state.activeChain&&(u.state.activeCaipAddress=t),u.setAccountProp("caipAddress",t,e),u.setAccountProp("address",r,e)},setBalance(t,e,r){u.setAccountProp("balance",t,r),u.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){u.setAccountProp("profileName",t,e)},setProfileImage(t,e){u.setAccountProp("profileImage",t,e)},setUser(t,e){u.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){u.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){u.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){u.setAccountProp("currentTab",t,u.state.activeChain)},setTokenBalance(t,e){t&&u.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){u.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){u.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,r){const s=u.getAccountProp("addressLabels",r)||new Map;s.set(t,e),u.setAccountProp("addressLabels",s,r)},removeAddressLabel(t,e){const r=u.getAccountProp("addressLabels",e)||new Map;r.delete(t),u.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){u.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){u.setAccountProp("preferredAccountTypes",{...Oe.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Oe.preferredAccountTypes=t},setSocialProvider(t,e){t&&u.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){u.setAccountProp("socialWindow",t?ft(t):void 0,e)},setFarcasterUrl(t,e){u.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var a,i;Oe.balanceLoading=!0;const e=(a=u.state.activeCaipNetwork)==null?void 0:a.caipNetworkId,r=(i=u.state.activeCaipNetwork)==null?void 0:i.chainNamespace,s=u.state.activeCaipAddress,n=s?L.getPlainAddress(s):void 0;if(Oe.lastRetry&&!L.isAllowedRetry(Oe.lastRetry,30*Ce.ONE_SEC_MS))return Oe.balanceLoading=!1,[];try{if(n&&e&&r){const d=(await U.getBalance(n,e)).balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(d,r),Oe.lastRetry=void 0,Oe.balanceLoading=!1,d}}catch(o){Oe.lastRetry=Date.now(),t==null||t(o),me.showError("Token Balance Unavailable")}finally{Oe.balanceLoading=!1}return[]},resetAccount(t){u.resetAccount(t)}},ve=ce({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),de={state:ve,subscribe(t){return Ee(ve,()=>t(ve))},subscribeKey(t,e){return Te(ve,t,e)},async open(t){var n;const e=N.state.status==="connected";ie.state.wcBasic?D.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await D.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await u.switchActiveNamespace(t.namespace),de.setLoading(!0,t.namespace)):de.setLoading(!0),$.setFilterByNamespace(t==null?void 0:t.namespace);const r=(n=u.getAccountData(t==null?void 0:t.namespace))==null?void 0:n.caipAddress;u.state.noAdapters&&!r?L.isMobile()?X.reset("AllWallets"):X.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?X.reset(t.view,t.data):r?X.reset("Account"):X.reset("Connect"),ve.open=!0,He.set({open:!0}),re.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!r}})},close(){const t=m.state.enableEmbedded,e=!!u.state.activeCaipAddress;ve.open&&re.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ve.open=!1,de.clearLoading(),t?e?X.replace("Account"):X.push("Connect"):He.set({open:!1}),ie.resetUri()},setLoading(t,e){e&&ve.loadingNamespaceMap.set(e,t),ve.loading=t,He.set({loading:t})},clearLoading(){ve.loadingNamespaceMap.clear(),ve.loading=!1},shake(){ve.shake||(ve.shake=!0,setTimeout(()=>{ve.shake=!1},500))}},bs=2147483648,ma={convertEVMChainIdToCoinType(t){if(t>=bs)throw new Error("Invalid chainId");return(bs|t)>>>0}},Pe=ce({suggestions:[],loading:!1}),tn={state:Pe,subscribe(t){return Ee(Pe,()=>t(Pe))},subscribeKey(t,e){return Te(Pe,t,e)},async resolveName(t){var e,r;try{return await U.lookupEnsName(t)}catch(s){const n=s;throw new Error(((r=(e=n==null?void 0:n.reasons)==null?void 0:e[0])==null?void 0:r.description)||"Error resolving name")}},async isNameRegistered(t){try{return await U.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Pe.loading=!0,Pe.suggestions=[];const e=await U.getEnsNameSuggestions(t);return Pe.suggestions=e.suggestions.map(r=>({...r,name:r.name}))||[],Pe.suggestions}catch(e){const r=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Pe.loading=!1}},async getNamesForAddress(t){try{if(!u.state.activeCaipNetwork)return[];const r=b.getEnsFromCacheForAddress(t);if(r)return r;const s=await U.reverseLookupEnsName({address:t});return b.updateEnsCache({address:t,ens:s,timestamp:Date.now()}),s}catch(e){const r=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=u.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const r=N.state.address,s=$.getAuthConnector();if(!r||!s)throw new Error("Address or auth connector not found");Pe.loading=!0;try{const n=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});X.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Pe.loading=!1}});const a=await ie.signMessage(n),i=e.id;if(!i)throw new Error("Network not found");const o=ma.convertEVMChainIdToCoinType(Number(i));await U.registerEnsName({coinType:o,address:r,signature:a,message:n}),N.setProfileName(t,e.chainNamespace),X.replace("RegisterAccountNameSuccess")}catch(n){const a=this.parseEnsApiError(n,`Error registering name ${t}`);throw X.replace("RegisterAccountName"),new Error(a)}finally{Pe.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var s,n;const r=t;return((n=(s=r==null?void 0:r.reasons)==null?void 0:s[0])==null?void 0:n.description)||e}},be={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},kr={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[T.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[T.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[T.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[T.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[T.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[T.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[T.CONNECTOR_ID.INJECTED]:"Browser Wallet",[T.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[T.CONNECTOR_ID.COINBASE]:"Coinbase",[T.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[T.CONNECTOR_ID.LEDGER]:"Ledger",[T.CONNECTOR_ID.SAFE]:"Safe"}},Vr={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,s])=>{e[`${be.EIP155}:${r}`]=s}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},Vt={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${ga()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function ga(){return typeof window<"u"}const Ca={createLogger(t,e="error"){const r=qs({level:e}),{logger:s}=Ks({opts:r});return s.error=(...n)=>{for(const a of n)if(a instanceof Error){t(a,...n);return}t(void 0,...n)},s}},_a="rpc.walletconnect.org";function Ts(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const Qr=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],bt={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===_a}catch{r=!1}if(r){const s=new URL(t);return s.searchParams.has("projectId")||s.searchParams.set("projectId",e),s.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:T.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${T.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){var n,a,i;const s=(i=(a=(n=t.rpcUrls)==null?void 0:n.default)==null?void 0:a.http)==null?void 0:i[0];return Qr.includes(e)?Ts(e,r):s||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:s}){var C,w,O,g,I;const n=this.getChainNamespace(t),a=this.getCaipNetworkId(t),i=(C=t.rpcUrls.default.http)==null?void 0:C[0],o=this.getDefaultRpcUrl(t,a,r),d=((g=(O=(w=t==null?void 0:t.rpcUrls)==null?void 0:w.chainDefault)==null?void 0:O.http)==null?void 0:g[0])||i,l=((I=s==null?void 0:s[a])==null?void 0:I.map(R=>R.url))||[],p=[...l,o],h=[...l];return d&&!h.includes(d)&&h.push(d),{...t,chainNamespace:n,caipNetworkId:a,assets:{imageId:kr.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:s}){return t.map(n=>bt.extendCaipNetwork(n,{customNetworkImageUrls:e,customRpcUrls:s,projectId:r}))},getViemTransport(t,e,r){var n,a,i;const s=[];return r==null||r.forEach(o=>{s.push(Er(o.url,o.config))}),Qr.includes(t.caipNetworkId)&&s.push(Er(Ts(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(i=(a=(n=t==null?void 0:t.rpcUrls)==null?void 0:n.default)==null?void 0:a.http)==null||i.forEach(o=>{s.push(Er(o))}),_s(s)},extendWagmiTransports(t,e,r){if(Qr.includes(t.caipNetworkId)){const s=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return _s([r,Er(s)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:T.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var d;const e=b.getActiveCaipNetworkId(),r=u.getAllRequestedCaipNetworks(),s=Array.from(((d=u.state.chains)==null?void 0:d.keys())||[]),n=e==null?void 0:e.split(":")[0],a=n?s.includes(n):!1,i=r==null?void 0:r.find(l=>l.caipNetworkId===e);return a&&!i&&e?this.getUnsupportedNetwork(e):i||t||(r==null?void 0:r[0])}},Or={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Ne=ce({providers:{...Or},providerIds:{...Or}}),ee={state:Ne,subscribeKey(t,e){return Te(Ne,t,e)},subscribe(t){return Ee(Ne,()=>{t(Ne)})},subscribeProviders(t){return Ee(Ne.providers,()=>t(Ne.providers))},setProvider(t,e){e&&(Ne.providers[t]=ft(e))},getProvider(t){return Ne.providers[t]},setProviderId(t,e){e&&(Ne.providerIds[t]=e)},getProviderId(t){if(t)return Ne.providerIds[t]},reset(){Ne.providers={...Or},Ne.providerIds={...Or}},resetChain(t){Ne.providers[t]=void 0,Ne.providerIds[t]=void 0}},Ss={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},fe={set(t,e){Re.isClient&&localStorage.setItem(`${S.STORAGE_KEY}${t}`,e)},get(t){return Re.isClient?localStorage.getItem(`${S.STORAGE_KEY}${t}`):null},delete(t,e){Re.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${S.STORAGE_KEY}${t}`))}},Nr=30*1e3,Re={checkIfAllowedToTriggerEmail(){const t=fe.get(S.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Nr){const r=Math.ceil((Nr-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=fe.get(S.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<Nr)return Math.ceil((Nr-e)/1e3)}return 0},checkIfRequestExists(t){return ue.NOT_SAFE_RPC_METHODS.includes(t.method)||ue.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(Ss.transactionHash))||(t==null?void 0:t.match(Ss.signedMessage)))?S.RPC_RESPONSE_TYPE_TX:S.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return ue.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var q;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const i of n)a[i]=i;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(o=>typeof n[n[o]]!="number"),i={};for(const o of a)i[o]=n[o];return t.objectValues(i)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&a.push(i);return a},t.find=(n,a)=>{for(const i of n)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(q||(q={}));var os;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(os||(os={}));const E=q.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tt=t=>{switch(typeof t){case"undefined":return E.undefined;case"string":return E.string;case"number":return isNaN(t)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(t)?E.array:t===null?E.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?E.promise:typeof Map<"u"&&t instanceof Map?E.map:typeof Set<"u"&&t instanceof Set?E.set:typeof Date<"u"&&t instanceof Date?E.date:E.object;default:return E.unknown}},f=q.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wa=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Me extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(n);else if(i.code==="invalid_return_type")n(i.returnTypeError);else if(i.code==="invalid_arguments")n(i.argumentsError);else if(i.path.length===0)s._errors.push(r(i));else{let o=s,d=0;for(;d<i.path.length;){const l=i.path[d];d===i.path.length-1?(o[l]=o[l]||{_errors:[]},o[l]._errors.push(r(i))):o[l]=o[l]||{_errors:[]},o=o[l],d++}}};return n(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,q.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Me.create=t=>new Me(t);const Qt=(t,e)=>{let r;switch(t.code){case f.invalid_type:t.received===E.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case f.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,q.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:r=`Unrecognized key(s) in object: ${q.joinValues(t.keys,", ")}`;break;case f.invalid_union:r="Invalid input";break;case f.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${q.joinValues(t.options)}`;break;case f.invalid_enum_value:r=`Invalid enum value. Expected ${q.joinValues(t.options)}, received '${t.received}'`;break;case f.invalid_arguments:r="Invalid function arguments";break;case f.invalid_return_type:r="Invalid function return type";break;case f.invalid_date:r="Invalid date";break;case f.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:q.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case f.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case f.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case f.custom:r="Invalid input";break;case f.invalid_intersection_types:r="Intersection results could not be merged";break;case f.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case f.not_finite:r="Number must be finite";break;default:r=e.defaultError,q.assertNever(t)}return{message:r}};let rn=Qt;function Ea(t){rn=t}function Pr(){return rn}const xr=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],i={...n,path:a};let o="";const d=s.filter(l=>!!l).slice().reverse();for(const l of d)o=l(i,{data:e,defaultError:o}).message;return{...n,path:a,message:n.message||o}},Aa=[];function v(t,e){const r=xr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Pr(),Qt].filter(s=>!!s)});t.common.issues.push(r)}class _e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return M;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r)s.push({key:await n.key,value:await n.value});return _e.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:i}=n;if(a.status==="aborted"||i.status==="aborted")return M;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||n.alwaysSet)&&(s[a.value]=i.value)}return{status:e.value,value:s}}}const M=Object.freeze({status:"aborted"}),sn=t=>({status:"dirty",value:t}),Ae=t=>({status:"valid",value:t}),cs=t=>t.status==="aborted",ls=t=>t.status==="dirty",er=t=>t.status==="valid",Ur=t=>typeof Promise<"u"&&t instanceof Promise;var k;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));class Ve{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Is=(t,e)=>{if(er(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Me(t.common.issues);return this._error=r,this._error}}};function W(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:s??o.defaultError}:{message:r??o.defaultError},description:n}}class j{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return tt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _e,ctx:{common:e.parent.common,data:e.data,parsedType:tt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ur(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tt(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Is(n,a)}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tt(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(Ur(n)?n:Promise.resolve(n));return Is(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const i=e(n),o=()=>a.addIssue({code:f.custom,...s(n)});return typeof Promise<"u"&&i instanceof Promise?i.then(d=>d?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new We({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ye.create(this,this._def)}nullable(){return Ct.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Be.create(this,this._def)}promise(){return xt.create(this,this._def)}or(e){return nr.create([this,e],this._def)}and(e){return ar.create(this,e,this._def)}transform(e){return new We({...W(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new dr({...W(this._def),innerType:this,defaultValue:r,typeName:x.ZodDefault})}brand(){return new an({typeName:x.ZodBranded,type:this,...W(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Br({...W(this._def),innerType:this,catchValue:r,typeName:x.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return mr.create(this,e)}readonly(){return $r.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ya=/^c[^\s-]{8,}$/i,va=/^[a-z][a-z0-9]*$/,Na=/^[0-9A-HJKMNP-TV-Z]{26}$/,ba=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ta=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Sa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let es;const Ia=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ra=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ka=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Oa(t,e){return!!((e==="v4"||!e)&&Ia.test(t)||(e==="v6"||!e)&&Ra.test(t))}class Le extends j{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==E.string){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:E.string,received:a.parsedType}),M}const s=new _e;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const i=e.data.length>a.value,o=e.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?v(n,{code:f.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&v(n,{code:f.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Ta.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"email",code:f.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")es||(es=new RegExp(Sa,"u")),es.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"emoji",code:f.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")ba.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"uuid",code:f.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")ya.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cuid",code:f.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")va.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cuid2",code:f.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Na.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"ulid",code:f.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),v(n,{validation:"url",code:f.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"regex",code:f.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?ka(a).test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:f.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="ip"?Oa(e.data,a.version)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"ip",code:f.invalid_string,message:a.message}),s.dirty()):q.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:f.invalid_string,...k.errToObj(s)})}_addCheck(e){return new Le({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...k.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...k.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...k.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...k.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...k.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...k.errToObj(r)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new Le({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Le({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Le({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Le.create=t=>{var e;return new Le({checks:[],typeName:x.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...W(t)})};function Pa(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(t.toFixed(n).replace(".","")),i=parseInt(e.toFixed(n).replace(".",""));return a%i/Math.pow(10,n)}class it extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==E.number){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:E.number,received:a.parsedType}),M}let s;const n=new _e;for(const a of this._def.checks)a.kind==="int"?q.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Pa(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:f.not_finite,message:a.message}),n.dirty()):q.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,k.toString(r))}gt(e,r){return this.setLimit("min",e,!1,k.toString(r))}lte(e,r){return this.setLimit("max",e,!0,k.toString(r))}lt(e,r){return this.setLimit("max",e,!1,k.toString(r))}setLimit(e,r,s,n){return new it({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:k.toString(n)}]})}_addCheck(e){return new it({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&q.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}it.create=t=>new it({checks:[],typeName:x.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...W(t)});class ot extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==E.bigint){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:E.bigint,received:a.parsedType}),M}let s;const n=new _e;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),v(s,{code:f.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):q.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,k.toString(r))}gt(e,r){return this.setLimit("min",e,!1,k.toString(r))}lte(e,r){return this.setLimit("max",e,!0,k.toString(r))}lt(e,r){return this.setLimit("max",e,!1,k.toString(r))}setLimit(e,r,s,n){return new ot({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:k.toString(n)}]})}_addCheck(e){return new ot({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ot.create=t=>{var e;return new ot({checks:[],typeName:x.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...W(t)})};class tr extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==E.boolean){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:E.boolean,received:s.parsedType}),M}return Ae(e.data)}}tr.create=t=>new tr({typeName:x.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...W(t)});class mt extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==E.date){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_type,expected:E.date,received:a.parsedType}),M}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return v(a,{code:f.invalid_date}),M}const s=new _e;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:f.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):q.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new mt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}mt.create=t=>new mt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:x.ZodDate,...W(t)});class Dr extends j{_parse(e){if(this._getType(e)!==E.symbol){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:E.symbol,received:s.parsedType}),M}return Ae(e.data)}}Dr.create=t=>new Dr({typeName:x.ZodSymbol,...W(t)});class rr extends j{_parse(e){if(this._getType(e)!==E.undefined){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:E.undefined,received:s.parsedType}),M}return Ae(e.data)}}rr.create=t=>new rr({typeName:x.ZodUndefined,...W(t)});class sr extends j{_parse(e){if(this._getType(e)!==E.null){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:E.null,received:s.parsedType}),M}return Ae(e.data)}}sr.create=t=>new sr({typeName:x.ZodNull,...W(t)});class Pt extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return Ae(e.data)}}Pt.create=t=>new Pt({typeName:x.ZodAny,...W(t)});class pt extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ae(e.data)}}pt.create=t=>new pt({typeName:x.ZodUnknown,...W(t)});class Ze extends j{_parse(e){const r=this._getOrReturnCtx(e);return v(r,{code:f.invalid_type,expected:E.never,received:r.parsedType}),M}}Ze.create=t=>new Ze({typeName:x.ZodNever,...W(t)});class Lr extends j{_parse(e){if(this._getType(e)!==E.undefined){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:E.void,received:s.parsedType}),M}return Ae(e.data)}}Lr.create=t=>new Lr({typeName:x.ZodVoid,...W(t)});class Be extends j{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==E.array)return v(r,{code:f.invalid_type,expected:E.array,received:r.parsedType}),M;if(n.exactLength!==null){const i=r.data.length>n.exactLength.value,o=r.data.length<n.exactLength.value;(i||o)&&(v(r,{code:i?f.too_big:f.too_small,minimum:o?n.exactLength.value:void 0,maximum:i?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(v(r,{code:f.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(v(r,{code:f.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((i,o)=>n.type._parseAsync(new Ve(r,i,r.path,o)))).then(i=>_e.mergeArray(s,i));const a=[...r.data].map((i,o)=>n.type._parseSync(new Ve(r,i,r.path,o)));return _e.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new Be({...this._def,minLength:{value:e,message:k.toString(r)}})}max(e,r){return new Be({...this._def,maxLength:{value:e,message:k.toString(r)}})}length(e,r){return new Be({...this._def,exactLength:{value:e,message:k.toString(r)}})}nonempty(e){return this.min(1,e)}}Be.create=(t,e)=>new Be({type:t,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...W(e)});function Tt(t){if(t instanceof oe){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Ye.create(Tt(s))}return new oe({...t._def,shape:()=>e})}else return t instanceof Be?new Be({...t._def,type:Tt(t.element)}):t instanceof Ye?Ye.create(Tt(t.unwrap())):t instanceof Ct?Ct.create(Tt(t.unwrap())):t instanceof Ge?Ge.create(t.items.map(e=>Tt(e))):t}class oe extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=q.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==E.object){const l=this._getOrReturnCtx(e);return v(l,{code:f.invalid_type,expected:E.object,received:l.parsedType}),M}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ze&&this._def.unknownKeys==="strip"))for(const l in n.data)i.includes(l)||o.push(l);const d=[];for(const l of i){const p=a[l],h=n.data[l];d.push({key:{status:"valid",value:l},value:p._parse(new Ve(n,h,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof Ze){const l=this._def.unknownKeys;if(l==="passthrough")for(const p of o)d.push({key:{status:"valid",value:p},value:{status:"valid",value:n.data[p]}});else if(l==="strict")o.length>0&&(v(n,{code:f.unrecognized_keys,keys:o}),s.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const p of o){const h=n.data[p];d.push({key:{status:"valid",value:p},value:l._parse(new Ve(n,h,n.path,p)),alwaysSet:p in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const p of d){const h=await p.key;l.push({key:h,value:await p.value,alwaysSet:p.alwaysSet})}return l}).then(l=>_e.mergeObjectSync(s,l)):_e.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,a,i,o;const d=(i=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&i!==void 0?i:s.defaultError;return r.code==="unrecognized_keys"?{message:(o=k.errToObj(e).message)!==null&&o!==void 0?o:d}:{message:d}}}:{}})}strip(){return new oe({...this._def,unknownKeys:"strip"})}passthrough(){return new oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:x.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new oe({...this._def,catchall:e})}pick(e){const r={};return q.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new oe({...this._def,shape:()=>r})}omit(e){const r={};return q.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new oe({...this._def,shape:()=>r})}deepPartial(){return Tt(this)}partial(e){const r={};return q.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new oe({...this._def,shape:()=>r})}required(e){const r={};return q.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Ye;)a=a._def.innerType;r[s]=a}}),new oe({...this._def,shape:()=>r})}keyof(){return nn(q.objectKeys(this.shape))}}oe.create=(t,e)=>new oe({shape:()=>t,unknownKeys:"strip",catchall:Ze.create(),typeName:x.ZodObject,...W(e)});oe.strictCreate=(t,e)=>new oe({shape:()=>t,unknownKeys:"strict",catchall:Ze.create(),typeName:x.ZodObject,...W(e)});oe.lazycreate=(t,e)=>new oe({shape:t,unknownKeys:"strip",catchall:Ze.create(),typeName:x.ZodObject,...W(e)});class nr extends j{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new Me(o.ctx.common.issues));return v(r,{code:f.invalid_union,unionErrors:i}),M}if(r.common.async)return Promise.all(s.map(async a=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(n);{let a;const i=[];for(const d of s){const l={...r,common:{...r.common,issues:[]},parent:null},p=d._parseSync({data:r.data,path:r.path,parent:l});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(d=>new Me(d));return v(r,{code:f.invalid_union,unionErrors:o}),M}}get options(){return this._def.options}}nr.create=(t,e)=>new nr({options:t,typeName:x.ZodUnion,...W(e)});const br=t=>t instanceof or?br(t.schema):t instanceof We?br(t.innerType()):t instanceof cr?[t.value]:t instanceof ct?t.options:t instanceof lr?Object.keys(t.enum):t instanceof dr?br(t._def.innerType):t instanceof rr?[void 0]:t instanceof sr?[null]:null;class Gr extends j{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==E.object)return v(r,{code:f.invalid_type,expected:E.object,received:r.parsedType}),M;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(v(r,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),M)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const a of r){const i=br(a.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(n.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);n.set(o,a)}}return new Gr({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...W(s)})}}function ds(t,e){const r=tt(t),s=tt(e);if(t===e)return{valid:!0,data:t};if(r===E.object&&s===E.object){const n=q.objectKeys(e),a=q.objectKeys(t).filter(o=>n.indexOf(o)!==-1),i={...t,...e};for(const o of a){const d=ds(t[o],e[o]);if(!d.valid)return{valid:!1};i[o]=d.data}return{valid:!0,data:i}}else if(r===E.array&&s===E.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const i=t[a],o=e[a],d=ds(i,o);if(!d.valid)return{valid:!1};n.push(d.data)}return{valid:!0,data:n}}else return r===E.date&&s===E.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ar extends j{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,i)=>{if(cs(a)||cs(i))return M;const o=ds(a.value,i.value);return o.valid?((ls(a)||ls(i))&&r.dirty(),{status:r.value,value:o.data}):(v(s,{code:f.invalid_intersection_types}),M)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,i])=>n(a,i)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ar.create=(t,e,r)=>new ar({left:t,right:e,typeName:x.ZodIntersection,...W(r)});class Ge extends j{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.array)return v(s,{code:f.invalid_type,expected:E.array,received:s.parsedType}),M;if(s.data.length<this._def.items.length)return v(s,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),M;!this._def.rest&&s.data.length>this._def.items.length&&(v(s,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((i,o)=>{const d=this._def.items[o]||this._def.rest;return d?d._parse(new Ve(s,i,s.path,o)):null}).filter(i=>!!i);return s.common.async?Promise.all(a).then(i=>_e.mergeArray(r,i)):_e.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ge({...this._def,rest:e})}}Ge.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ge({items:t,typeName:x.ZodTuple,rest:null,...W(e)})};class ir extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.object)return v(s,{code:f.invalid_type,expected:E.object,received:s.parsedType}),M;const n=[],a=this._def.keyType,i=this._def.valueType;for(const o in s.data)n.push({key:a._parse(new Ve(s,o,s.path,o)),value:i._parse(new Ve(s,s.data[o],s.path,o))});return s.common.async?_e.mergeObjectAsync(r,n):_e.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof j?new ir({keyType:e,valueType:r,typeName:x.ZodRecord,...W(s)}):new ir({keyType:Le.create(),valueType:e,typeName:x.ZodRecord,...W(r)})}}class Mr extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.map)return v(s,{code:f.invalid_type,expected:E.map,received:s.parsedType}),M;const n=this._def.keyType,a=this._def.valueType,i=[...s.data.entries()].map(([o,d],l)=>({key:n._parse(new Ve(s,o,s.path,[l,"key"])),value:a._parse(new Ve(s,d,s.path,[l,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const d of i){const l=await d.key,p=await d.value;if(l.status==="aborted"||p.status==="aborted")return M;(l.status==="dirty"||p.status==="dirty")&&r.dirty(),o.set(l.value,p.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const d of i){const l=d.key,p=d.value;if(l.status==="aborted"||p.status==="aborted")return M;(l.status==="dirty"||p.status==="dirty")&&r.dirty(),o.set(l.value,p.value)}return{status:r.value,value:o}}}}Mr.create=(t,e,r)=>new Mr({valueType:e,keyType:t,typeName:x.ZodMap,...W(r)});class gt extends j{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==E.set)return v(s,{code:f.invalid_type,expected:E.set,received:s.parsedType}),M;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(v(s,{code:f.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(v(s,{code:f.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function i(d){const l=new Set;for(const p of d){if(p.status==="aborted")return M;p.status==="dirty"&&r.dirty(),l.add(p.value)}return{status:r.value,value:l}}const o=[...s.data.values()].map((d,l)=>a._parse(new Ve(s,d,s.path,l)));return s.common.async?Promise.all(o).then(d=>i(d)):i(o)}min(e,r){return new gt({...this._def,minSize:{value:e,message:k.toString(r)}})}max(e,r){return new gt({...this._def,maxSize:{value:e,message:k.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}gt.create=(t,e)=>new gt({valueType:t,minSize:null,maxSize:null,typeName:x.ZodSet,...W(e)});class It extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==E.function)return v(r,{code:f.invalid_type,expected:E.function,received:r.parsedType}),M;function s(o,d){return xr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pr(),Qt].filter(l=>!!l),issueData:{code:f.invalid_arguments,argumentsError:d}})}function n(o,d){return xr({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Pr(),Qt].filter(l=>!!l),issueData:{code:f.invalid_return_type,returnTypeError:d}})}const a={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof xt){const o=this;return Ae(async function(...d){const l=new Me([]),p=await o._def.args.parseAsync(d,a).catch(w=>{throw l.addIssue(s(d,w)),l}),h=await Reflect.apply(i,this,p);return await o._def.returns._def.type.parseAsync(h,a).catch(w=>{throw l.addIssue(n(h,w)),l})})}else{const o=this;return Ae(function(...d){const l=o._def.args.safeParse(d,a);if(!l.success)throw new Me([s(d,l.error)]);const p=Reflect.apply(i,this,l.data),h=o._def.returns.safeParse(p,a);if(!h.success)throw new Me([n(p,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new It({...this._def,args:Ge.create(e).rest(pt.create())})}returns(e){return new It({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new It({args:e||Ge.create([]).rest(pt.create()),returns:r||pt.create(),typeName:x.ZodFunction,...W(s)})}}class or extends j{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}or.create=(t,e)=>new or({getter:t,typeName:x.ZodLazy,...W(e)});class cr extends j{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return v(r,{received:r.data,code:f.invalid_literal,expected:this._def.value}),M}return{status:"valid",value:e.data}}get value(){return this._def.value}}cr.create=(t,e)=>new cr({value:t,typeName:x.ZodLiteral,...W(e)});function nn(t,e){return new ct({values:t,typeName:x.ZodEnum,...W(e)})}class ct extends j{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return v(r,{expected:q.joinValues(s),received:r.parsedType,code:f.invalid_type}),M}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),s=this._def.values;return v(r,{received:r.data,code:f.invalid_enum_value,options:s}),M}return Ae(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return ct.create(e)}exclude(e){return ct.create(this.options.filter(r=>!e.includes(r)))}}ct.create=nn;class lr extends j{_parse(e){const r=q.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==E.string&&s.parsedType!==E.number){const n=q.objectValues(r);return v(s,{expected:q.joinValues(n),received:s.parsedType,code:f.invalid_type}),M}if(r.indexOf(e.data)===-1){const n=q.objectValues(r);return v(s,{received:s.data,code:f.invalid_enum_value,options:n}),M}return Ae(e.data)}get enum(){return this._def.values}}lr.create=(t,e)=>new lr({values:t,typeName:x.ZodNativeEnum,...W(e)});class xt extends j{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==E.promise&&r.common.async===!1)return v(r,{code:f.invalid_type,expected:E.promise,received:r.parsedType}),M;const s=r.parsedType===E.promise?r.data:Promise.resolve(r.data);return Ae(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xt.create=(t,e)=>new xt({type:t,typeName:x.ZodPromise,...W(e)});class We extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:i=>{v(s,i),i.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const i=n.transform(s.data,a);return s.common.issues.length?{status:"dirty",value:s.data}:s.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:s.path,parent:s})):this._def.schema._parseSync({data:i,path:s.path,parent:s})}if(n.type==="refinement"){const i=o=>{const d=n.refinement(o,a);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?M:(o.status==="dirty"&&r.dirty(),i(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?M:(o.status==="dirty"&&r.dirty(),i(o.value).then(()=>({status:r.value,value:o.value}))))}if(n.type==="transform")if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!er(i))return i;const o=n.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>er(i)?Promise.resolve(n.transform(i.value,a)).then(o=>({status:r.value,value:o})):i);q.assertNever(n)}}We.create=(t,e,r)=>new We({schema:t,typeName:x.ZodEffects,effect:e,...W(r)});We.createWithPreprocess=(t,e,r)=>new We({schema:e,effect:{type:"preprocess",transform:t},typeName:x.ZodEffects,...W(r)});class Ye extends j{_parse(e){return this._getType(e)===E.undefined?Ae(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ye.create=(t,e)=>new Ye({innerType:t,typeName:x.ZodOptional,...W(e)});class Ct extends j{_parse(e){return this._getType(e)===E.null?Ae(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ct.create=(t,e)=>new Ct({innerType:t,typeName:x.ZodNullable,...W(e)});class dr extends j{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===E.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}dr.create=(t,e)=>new dr({innerType:t,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...W(e)});class Br extends j{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ur(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Me(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Me(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Br.create=(t,e)=>new Br({innerType:t,typeName:x.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...W(e)});class Wr extends j{_parse(e){if(this._getType(e)!==E.nan){const s=this._getOrReturnCtx(e);return v(s,{code:f.invalid_type,expected:E.nan,received:s.parsedType}),M}return{status:"valid",value:e.data}}}Wr.create=t=>new Wr({typeName:x.ZodNaN,...W(t)});const xa=Symbol("zod_brand");class an extends j{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class mr extends j{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?M:a.status==="dirty"?(r.dirty(),sn(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?M:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new mr({in:e,out:r,typeName:x.ZodPipeline})}}class $r extends j{_parse(e){const r=this._def.innerType._parse(e);return er(r)&&(r.value=Object.freeze(r.value)),r}}$r.create=(t,e)=>new $r({innerType:t,typeName:x.ZodReadonly,...W(e)});const on=(t,e={},r)=>t?Pt.create().superRefine((s,n)=>{var a,i;if(!t(s)){const o=typeof e=="function"?e(s):typeof e=="string"?{message:e}:e,d=(i=(a=o.fatal)!==null&&a!==void 0?a:r)!==null&&i!==void 0?i:!0,l=typeof o=="string"?{message:o}:o;n.addIssue({code:"custom",...l,fatal:d})}}):Pt.create(),Ua={object:oe.lazycreate};var x;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(x||(x={}));const Da=(t,e={message:`Input not instance of ${t.name}`})=>on(r=>r instanceof t,e),cn=Le.create,ln=it.create,La=Wr.create,Ma=ot.create,dn=tr.create,Ba=mt.create,Wa=Dr.create,$a=rr.create,Fa=sr.create,ja=Pt.create,Ha=pt.create,Va=Ze.create,Ga=Lr.create,za=Be.create,qa=oe.create,Ka=oe.strictCreate,Ya=nr.create,Za=Gr.create,Ja=ar.create,Xa=Ge.create,Qa=ir.create,ei=Mr.create,ti=gt.create,ri=It.create,si=or.create,ni=cr.create,ai=ct.create,ii=lr.create,oi=xt.create,Rs=We.create,ci=Ye.create,li=Ct.create,di=We.createWithPreprocess,ui=mr.create,pi=()=>cn().optional(),hi=()=>ln().optional(),fi=()=>dn().optional(),mi={string:t=>Le.create({...t,coerce:!0}),number:t=>it.create({...t,coerce:!0}),boolean:t=>tr.create({...t,coerce:!0}),bigint:t=>ot.create({...t,coerce:!0}),date:t=>mt.create({...t,coerce:!0})},gi=M;var c=Object.freeze({__proto__:null,defaultErrorMap:Qt,setErrorMap:Ea,getErrorMap:Pr,makeIssue:xr,EMPTY_PATH:Aa,addIssueToContext:v,ParseStatus:_e,INVALID:M,DIRTY:sn,OK:Ae,isAborted:cs,isDirty:ls,isValid:er,isAsync:Ur,get util(){return q},get objectUtil(){return os},ZodParsedType:E,getParsedType:tt,ZodType:j,ZodString:Le,ZodNumber:it,ZodBigInt:ot,ZodBoolean:tr,ZodDate:mt,ZodSymbol:Dr,ZodUndefined:rr,ZodNull:sr,ZodAny:Pt,ZodUnknown:pt,ZodNever:Ze,ZodVoid:Lr,ZodArray:Be,ZodObject:oe,ZodUnion:nr,ZodDiscriminatedUnion:Gr,ZodIntersection:ar,ZodTuple:Ge,ZodRecord:ir,ZodMap:Mr,ZodSet:gt,ZodFunction:It,ZodLazy:or,ZodLiteral:cr,ZodEnum:ct,ZodNativeEnum:lr,ZodPromise:xt,ZodEffects:We,ZodTransformer:We,ZodOptional:Ye,ZodNullable:Ct,ZodDefault:dr,ZodCatch:Br,ZodNaN:Wr,BRAND:xa,ZodBranded:an,ZodPipeline:mr,ZodReadonly:$r,custom:on,Schema:j,ZodSchema:j,late:Ua,get ZodFirstPartyTypeKind(){return x},coerce:mi,any:ja,array:za,bigint:Ma,boolean:dn,date:Ba,discriminatedUnion:Za,effect:Rs,enum:ai,function:ri,instanceof:Da,intersection:Ja,lazy:si,literal:ni,map:ei,nan:La,nativeEnum:ii,never:Va,null:Fa,nullable:li,number:ln,object:qa,oboolean:fi,onumber:hi,optional:ci,ostring:pi,pipeline:ui,preprocess:di,promise:oi,record:Qa,set:ti,strictObject:Ka,string:cn,symbol:Wa,transformer:Rs,tuple:Xa,undefined:$a,union:Ya,unknown:Ha,void:Ga,NEVER:gi,ZodIssueCode:f,quotelessJson:wa,ZodError:Me});const le=c.object({message:c.string()});function A(t){return c.literal(S[t])}c.object({accessList:c.array(c.string()),blockHash:c.string().nullable(),blockNumber:c.string().nullable(),chainId:c.string().or(c.number()),from:c.string(),gas:c.string(),hash:c.string(),input:c.string().nullable(),maxFeePerGas:c.string(),maxPriorityFeePerGas:c.string(),nonce:c.string(),r:c.string(),s:c.string(),to:c.string(),transactionIndex:c.string().nullable(),type:c.string(),v:c.string(),value:c.string()});const Ci=c.object({chainId:c.string().or(c.number())}),_i=c.object({email:c.string().email()}),wi=c.object({otp:c.string()}),Ei=c.object({uri:c.string()}),Ai=c.object({chainId:c.optional(c.string().or(c.number())),preferredAccountType:c.optional(c.string())}),yi=c.object({provider:c.enum(["google","github","apple","facebook","x","discord"])}),vi=c.object({email:c.string().email()}),Ni=c.object({otp:c.string()}),bi=c.object({otp:c.string()}),Ti=c.object({themeMode:c.optional(c.enum(["light","dark"])),themeVariables:c.optional(c.record(c.string(),c.string().or(c.number()))),w3mThemeVariables:c.optional(c.record(c.string(),c.string()))}),Si=c.object({metadata:c.object({name:c.string(),description:c.string(),url:c.string(),icons:c.array(c.string())}).optional(),sdkVersion:c.string().optional(),sdkType:c.string().optional(),projectId:c.string()}),Ii=c.object({type:c.string()}),Ri=c.object({action:c.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),ki=c.object({url:c.string()}),Oi=c.object({userName:c.string()}),Pi=c.object({email:c.string().optional().nullable(),address:c.string(),chainId:c.string().or(c.number()),accounts:c.array(c.object({address:c.string(),type:c.enum([ue.ACCOUNT_TYPES.EOA,ue.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:c.string().optional().nullable()}),xi=c.object({action:c.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Ui=c.object({email:c.string().email().optional().nullable(),address:c.string(),chainId:c.string().or(c.number()),smartAccountDeployed:c.optional(c.boolean()),accounts:c.array(c.object({address:c.string(),type:c.enum([ue.ACCOUNT_TYPES.EOA,ue.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:c.optional(c.string())}),Di=c.object({uri:c.string()}),Li=c.object({isConnected:c.boolean()}),Mi=c.object({chainId:c.string().or(c.number())}),Bi=c.object({chainId:c.string().or(c.number())}),Wi=c.object({newEmail:c.string().email()}),$i=c.object({smartAccountEnabledNetworks:c.array(c.number())});c.object({address:c.string(),isDeployed:c.boolean()});const Fi=c.object({version:c.string().optional()}),ji=c.object({type:c.string(),address:c.string()}),Hi=c.any(),Vi=c.object({method:c.literal("eth_accounts")}),Gi=c.object({method:c.literal("eth_blockNumber")}),zi=c.object({method:c.literal("eth_call"),params:c.array(c.any())}),qi=c.object({method:c.literal("eth_chainId")}),Ki=c.object({method:c.literal("eth_estimateGas"),params:c.array(c.any())}),Yi=c.object({method:c.literal("eth_feeHistory"),params:c.array(c.any())}),Zi=c.object({method:c.literal("eth_gasPrice")}),Ji=c.object({method:c.literal("eth_getAccount"),params:c.array(c.any())}),Xi=c.object({method:c.literal("eth_getBalance"),params:c.array(c.any())}),Qi=c.object({method:c.literal("eth_getBlockByHash"),params:c.array(c.any())}),eo=c.object({method:c.literal("eth_getBlockByNumber"),params:c.array(c.any())}),to=c.object({method:c.literal("eth_getBlockReceipts"),params:c.array(c.any())}),ro=c.object({method:c.literal("eth_getBlockTransactionCountByHash"),params:c.array(c.any())}),so=c.object({method:c.literal("eth_getBlockTransactionCountByNumber"),params:c.array(c.any())}),no=c.object({method:c.literal("eth_getCode"),params:c.array(c.any())}),ao=c.object({method:c.literal("eth_getFilterChanges"),params:c.array(c.any())}),io=c.object({method:c.literal("eth_getFilterLogs"),params:c.array(c.any())}),oo=c.object({method:c.literal("eth_getLogs"),params:c.array(c.any())}),co=c.object({method:c.literal("eth_getProof"),params:c.array(c.any())}),lo=c.object({method:c.literal("eth_getStorageAt"),params:c.array(c.any())}),uo=c.object({method:c.literal("eth_getTransactionByBlockHashAndIndex"),params:c.array(c.any())}),po=c.object({method:c.literal("eth_getTransactionByBlockNumberAndIndex"),params:c.array(c.any())}),ho=c.object({method:c.literal("eth_getTransactionByHash"),params:c.array(c.any())}),fo=c.object({method:c.literal("eth_getTransactionCount"),params:c.array(c.any())}),mo=c.object({method:c.literal("eth_getTransactionReceipt"),params:c.array(c.any())}),go=c.object({method:c.literal("eth_getUncleCountByBlockHash"),params:c.array(c.any())}),Co=c.object({method:c.literal("eth_getUncleCountByBlockNumber"),params:c.array(c.any())}),_o=c.object({method:c.literal("eth_maxPriorityFeePerGas")}),wo=c.object({method:c.literal("eth_newBlockFilter")}),Eo=c.object({method:c.literal("eth_newFilter"),params:c.array(c.any())}),Ao=c.object({method:c.literal("eth_newPendingTransactionFilter")}),yo=c.object({method:c.literal("eth_sendRawTransaction"),params:c.array(c.any())}),vo=c.object({method:c.literal("eth_syncing"),params:c.array(c.any())}),No=c.object({method:c.literal("eth_uninstallFilter"),params:c.array(c.any())}),ks=c.object({method:c.literal("personal_sign"),params:c.array(c.any())}),bo=c.object({method:c.literal("eth_signTypedData_v4"),params:c.array(c.any())}),To=c.object({method:c.literal("eth_sendTransaction"),params:c.array(c.any())}),So=c.object({method:c.literal("solana_signMessage"),params:c.object({message:c.string(),pubkey:c.string()})}),Io=c.object({method:c.literal("solana_signTransaction"),params:c.object({transaction:c.string()})}),Ro=c.object({method:c.literal("solana_signAllTransactions"),params:c.object({transactions:c.array(c.string())})}),ko=c.object({method:c.literal("solana_signAndSendTransaction"),params:c.object({transaction:c.string(),options:c.object({skipPreflight:c.boolean().optional(),preflightCommitment:c.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:c.number().optional(),minContextSlot:c.number().optional()}).optional()})}),Oo=c.object({method:c.literal("wallet_sendCalls"),params:c.array(c.object({chainId:c.string().or(c.number()).optional(),from:c.string().optional(),version:c.string().optional(),capabilities:c.any().optional(),calls:c.array(c.object({to:c.string().startsWith("0x"),data:c.string().startsWith("0x").optional(),value:c.string().optional()}))}))}),Po=c.object({method:c.literal("wallet_getCallsStatus"),params:c.array(c.string())}),xo=c.object({method:c.literal("wallet_getCapabilities")}),Uo=c.object({method:c.literal("wallet_grantPermissions"),params:c.array(c.any())}),Do=c.object({method:c.literal("wallet_revokePermissions"),params:c.any()}),Lo=c.object({method:c.literal("wallet_getAssets"),params:c.any()}),Os=c.object({token:c.string()}),y=c.object({id:c.string().optional()}),$t={appEvent:y.extend({type:A("APP_SWITCH_NETWORK"),payload:Ci}).or(y.extend({type:A("APP_CONNECT_EMAIL"),payload:_i})).or(y.extend({type:A("APP_CONNECT_DEVICE")})).or(y.extend({type:A("APP_CONNECT_OTP"),payload:wi})).or(y.extend({type:A("APP_CONNECT_SOCIAL"),payload:Ei})).or(y.extend({type:A("APP_GET_FARCASTER_URI")})).or(y.extend({type:A("APP_CONNECT_FARCASTER")})).or(y.extend({type:A("APP_GET_USER"),payload:c.optional(Ai)})).or(y.extend({type:A("APP_GET_SOCIAL_REDIRECT_URI"),payload:yi})).or(y.extend({type:A("APP_SIGN_OUT")})).or(y.extend({type:A("APP_IS_CONNECTED"),payload:c.optional(Os)})).or(y.extend({type:A("APP_GET_CHAIN_ID")})).or(y.extend({type:A("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(y.extend({type:A("APP_INIT_SMART_ACCOUNT")})).or(y.extend({type:A("APP_SET_PREFERRED_ACCOUNT"),payload:Ii})).or(y.extend({type:A("APP_RPC_REQUEST"),payload:ks.or(Lo).or(Vi).or(Gi).or(zi).or(qi).or(Ki).or(Yi).or(Zi).or(Ji).or(Xi).or(Qi).or(eo).or(to).or(ro).or(so).or(no).or(ao).or(io).or(oo).or(co).or(lo).or(uo).or(po).or(ho).or(fo).or(mo).or(go).or(Co).or(_o).or(wo).or(Eo).or(Ao).or(yo).or(vo).or(No).or(ks).or(bo).or(To).or(So).or(Io).or(Ro).or(ko).or(Po).or(Oo).or(xo).or(Uo).or(Do)})).or(y.extend({type:A("APP_UPDATE_EMAIL"),payload:vi})).or(y.extend({type:A("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Ni})).or(y.extend({type:A("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:bi})).or(y.extend({type:A("APP_SYNC_THEME"),payload:Ti})).or(y.extend({type:A("APP_SYNC_DAPP_DATA"),payload:Si})).or(y.extend({type:A("APP_RELOAD")})),frameEvent:y.extend({type:A("FRAME_SWITCH_NETWORK_ERROR"),payload:le}).or(y.extend({type:A("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Bi})).or(y.extend({type:A("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Ri})).or(y.extend({type:A("FRAME_CONNECT_EMAIL_ERROR"),payload:le})).or(y.extend({type:A("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:ki})).or(y.extend({type:A("FRAME_GET_FARCASTER_URI_ERROR"),payload:le})).or(y.extend({type:A("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Oi})).or(y.extend({type:A("FRAME_CONNECT_FARCASTER_ERROR"),payload:le})).or(y.extend({type:A("FRAME_CONNECT_OTP_ERROR"),payload:le})).or(y.extend({type:A("FRAME_CONNECT_OTP_SUCCESS")})).or(y.extend({type:A("FRAME_CONNECT_DEVICE_ERROR"),payload:le})).or(y.extend({type:A("FRAME_CONNECT_DEVICE_SUCCESS")})).or(y.extend({type:A("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Pi})).or(y.extend({type:A("FRAME_CONNECT_SOCIAL_ERROR"),payload:le})).or(y.extend({type:A("FRAME_GET_USER_ERROR"),payload:le})).or(y.extend({type:A("FRAME_GET_USER_SUCCESS"),payload:Ui})).or(y.extend({type:A("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:le})).or(y.extend({type:A("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Di})).or(y.extend({type:A("FRAME_SIGN_OUT_ERROR"),payload:le})).or(y.extend({type:A("FRAME_SIGN_OUT_SUCCESS")})).or(y.extend({type:A("FRAME_IS_CONNECTED_ERROR"),payload:le})).or(y.extend({type:A("FRAME_IS_CONNECTED_SUCCESS"),payload:Li})).or(y.extend({type:A("FRAME_GET_CHAIN_ID_ERROR"),payload:le})).or(y.extend({type:A("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Mi})).or(y.extend({type:A("FRAME_RPC_REQUEST_ERROR"),payload:le})).or(y.extend({type:A("FRAME_RPC_REQUEST_SUCCESS"),payload:Hi})).or(y.extend({type:A("FRAME_SESSION_UPDATE"),payload:Os})).or(y.extend({type:A("FRAME_UPDATE_EMAIL_ERROR"),payload:le})).or(y.extend({type:A("FRAME_UPDATE_EMAIL_SUCCESS"),payload:xi})).or(y.extend({type:A("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:le})).or(y.extend({type:A("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(y.extend({type:A("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:le})).or(y.extend({type:A("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Wi})).or(y.extend({type:A("FRAME_SYNC_THEME_ERROR"),payload:le})).or(y.extend({type:A("FRAME_SYNC_THEME_SUCCESS")})).or(y.extend({type:A("FRAME_SYNC_DAPP_DATA_ERROR"),payload:le})).or(y.extend({type:A("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(y.extend({type:A("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:$i})).or(y.extend({type:A("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:le})).or(y.extend({type:A("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:le})).or(y.extend({type:A("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:ji})).or(y.extend({type:A("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:le})).or(y.extend({type:A("FRAME_READY"),payload:Fi})).or(y.extend({type:A("FRAME_RELOAD_ERROR"),payload:le})).or(y.extend({type:A("FRAME_RELOAD_SUCCESS")}))};function ts(t,e={}){var r;return typeof(e==null?void 0:e.type)=="string"&&((r=e==null?void 0:e.type)==null?void 0:r.includes(t))}class Mo{constructor({projectId:e,isAppClient:r=!1,chainId:s="eip155:1",enableLogger:n=!0}){if(this.iframe=null,this.rpcUrl=T.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,i,o)=>{function d({data:l}){if(!ts(S.FRAME_EVENT_KEY,l))return;const p=$t.frameEvent.parse(l);p.id===a&&(i(p),window.removeEventListener("message",d))}Re.isClient&&(window.addEventListener("message",d),o.addEventListener("abort",()=>{window.removeEventListener("message",d)}))},onFrameEvent:a=>{Re.isClient&&window.addEventListener("message",({data:i})=>{if(!ts(S.FRAME_EVENT_KEY,i))return;const o=$t.frameEvent.parse(i);a(o)})},onAppEvent:a=>{Re.isClient&&window.addEventListener("message",({data:i})=>{if(!ts(S.APP_EVENT_KEY,i))return;const o=$t.appEvent.parse(i);a(o)})},postAppEvent:a=>{var i;if(Re.isClient){if(!((i=this.iframe)!=null&&i.contentWindow))throw new Error("W3mFrame: iframe is not set");$t.appEvent.parse(a),this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(Re.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");$t.frameEvent.parse(a),parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,i)=>{this.frameLoadPromiseResolver={resolve:a,reject:i}}),r&&(this.frameLoadPromise=new Promise((a,i)=>{this.frameLoadPromiseResolver={resolve:a,reject:i}}),Re.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=`${da}?projectId=${e}&chainId=${s}&version=${pa}&enableLogger=${n}`,a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=a,this.iframe.onerror=()=>{var i;(i=this.frameLoadPromiseResolver)==null||i.reject("Unable to load email login dependency")},this.events.onFrameEvent(i=>{var o;i.type==="@w3m-frame/READY"&&((o=this.frameLoadPromiseResolver)==null||o.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class Bo{constructor(e){var a;const r=qs({level:ua}),{logger:s,chunkLoggerController:n}=Ks({opts:r});this.logger=In(s,this.constructor.name),this.chunkLoggerController=n,typeof window<"u"&&((a=this.chunkLoggerController)!=null&&a.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var i;(i=this.chunkLoggerController)!=null&&i.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Wo{constructor({projectId:e,chainId:r,enableLogger:s=!0,onTimeout:n}){this.openRpcRequests=[],s&&(this.w3mLogger=new Bo(e)),this.w3mFrame=new Mo({projectId:e,isAppClient:!0,chainId:r,enableLogger:s}),this.onTimeout=n,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(a=>{this.w3mFrame.events.onFrameEvent(async i=>{i.type===S.FRAME_READY&&(this.initPromise=void 0,await new Promise(o=>{setTimeout(o,500)}),a())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!fe.get(S.EMAIL_LOGIN_USED_KEY)}getEmail(){return fe.get(S.EMAIL)}getUsername(){return fe.get(S.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:S.APP_RELOAD})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error reloading iframe"),r}}async connectEmail(e){var r;try{Re.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const s=await this.appEvent({type:S.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting email"),s}}async connectDevice(){var e;try{return this.appEvent({type:S.APP_CONNECT_DEVICE})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting device"),r}}async connectOtp(e){var r;try{return this.appEvent({type:S.APP_CONNECT_OTP,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting otp"),s}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const r=await this.appEvent({type:S.APP_IS_CONNECTED});return r!=null&&r.isConnected||this.deleteAuthLoginCache(),r}catch(r){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error checking connection"),r}}async getChainId(){var e;try{const r=await this.appEvent({type:S.APP_GET_CHAIN_ID});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting chain id"),r}}async getSocialRedirectUri(e){var r;try{return this.w3mFrame.initFrame(),this.appEvent({type:S.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error getting social redirect uri"),s}}async updateEmail(e){var r;try{const s=await this.appEvent({type:S.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error updating email"),s}}async updateEmailPrimaryOtp(e){var r;try{return this.appEvent({type:S.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error updating email primary otp"),s}}async updateEmailSecondaryOtp(e){var r;try{const s=await this.appEvent({type:S.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(s.newEmail),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error updating email secondary otp"),s}}async syncTheme(e){var r;try{return this.appEvent({type:S.APP_SYNC_THEME,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error syncing theme"),s}}async syncDappData(e){var r;try{return this.appEvent({type:S.APP_SYNC_DAPP_DATA,payload:e})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error syncing dapp data"),s}}async getSmartAccountEnabledNetworks(){var e;try{const r=await this.appEvent({type:S.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(r.smartAccountEnabledNetworks),r}catch(r){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting smart account enabled networks"),r}}async setPreferredAccount(e){var r;try{return this.appEvent({type:S.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error setting preferred account"),s}}async connect(e){var r;try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,n=await this.getUser({chainId:s,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async getUser(e){var r;try{const s=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,n=await this.appEvent({type:S.APP_GET_USER,payload:{...e,chainId:s}});return this.user=n,n}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting"),s}}async connectSocial(e){var r;try{this.w3mFrame.initFrame();const s=await this.appEvent({type:S.APP_CONNECT_SOCIAL,payload:{uri:e}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:S.APP_GET_FARCASTER_URI})}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error getting farcaster uri"),r}}async connectFarcaster(){var e;try{const r=await this.appEvent({type:S.APP_CONNECT_FARCASTER});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error connecting farcaster"),r}}async switchNetwork(e){var r;try{const s=await this.appEvent({type:S.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(s.chainId),s}catch(s){throw(r=this.w3mLogger)==null||r.logger.error({error:s},"Error switching network"),s}}async disconnect(){var e;try{const r=await this.appEvent({type:S.APP_SIGN_OUT});return this.deleteAuthLoginCache(),r}catch(r){throw(e=this.w3mLogger)==null||e.logger.error({error:r},"Error disconnecting"),r}}async request(e){var r,s,n,a;try{if(ue.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(r=this.rpcRequestHandler)==null||r.call(this,e);const i=await this.appEvent({type:S.APP_RPC_REQUEST,payload:e});return(s=this.rpcSuccessHandler)==null||s.call(this,i,e),i}catch(i){throw(n=this.rpcErrorHandler)==null||n.call(this,i,e),(a=this.w3mLogger)==null||a.logger.error({error:i},"Error requesting"),i}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===S.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===S.FRAME_IS_CONNECTED_ERROR&&e(),r.type===S.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===S.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===S.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===S.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===S.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:ue.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===S.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(r.payload.smartAccountEnabledNetworks):r.type===S.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:r,method:s})=>{ue.SAFE_RPC_METHODS.includes(s)||r.abort()}),this.openRpcRequests=[]}catch(r){(e=this.w3mLogger)==null||e.logger.error({error:r},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let r;function s(o){return o.replace("@w3m-app/","")}const n=new AbortController,a=s(e.type);return[S.APP_CONNECT_EMAIL,S.APP_CONNECT_DEVICE,S.APP_CONNECT_OTP,S.APP_CONNECT_SOCIAL,S.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(a)&&(r=setTimeout(()=>{var o;(o=this.onTimeout)==null||o.call(this),n.abort()},3e4)),new Promise((o,d)=>{var h,C,w;const l=Math.random().toString(36).substring(7);if((w=(h=this.w3mLogger)==null?void 0:(C=h.logger).info)==null||w.call(C,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),a==="RPC_REQUEST"){const O=e;this.openRpcRequests=[...this.openRpcRequests,{...O.payload,abortController:n}]}n.signal.addEventListener("abort",()=>{a==="RPC_REQUEST"?d(new Error("Request was aborted")):a!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});function p(O,g){var I,R,te;O.id===l&&((R=g==null?void 0:(I=g.logger).info)==null||R.call(I,{framEvent:O,id:l},"Received frame response"),O.type===`@w3m-frame/${a}_SUCCESS`?(r&&clearTimeout(r),"payload"in O&&o(O.payload),o(void 0)):O.type===`@w3m-frame/${a}_ERROR`&&(r&&clearTimeout(r),"payload"in O&&d(new Error(((te=O.payload)==null?void 0:te.message)||"An error occurred")),d(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,O=>p(O,this.w3mLogger),n.signal)})}setNewLastEmailLoginTime(){fe.set(S.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){fe.set(S.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&fe.set(S.EMAIL,e),fe.set(S.EMAIL_LOGIN_USED_KEY,"true"),fe.delete(S.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){fe.delete(S.EMAIL_LOGIN_USED_KEY),fe.delete(S.EMAIL),fe.delete(S.LAST_USED_CHAIN_KEY),fe.delete(S.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&fe.set(S.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=fe.get(S.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){fe.set(S.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class Kt{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:s,onTimeout:n}){return Kt.instance||(Kt.instance=new Wo({projectId:e,chainId:r,enableLogger:s,onTimeout:n})),Kt.instance}}var Ps={};const $o={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof Ps<"u"?Ps.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},us={filterOutDuplicatesByRDNS(t){const e=m.state.enableEIP6963?$.state.connectors:[],r=b.getRecentWallets(),s=e.map(o=>{var d;return(d=o.info)==null?void 0:d.rdns}).filter(Boolean),n=r.map(o=>o.rdns).filter(Boolean),a=s.concat(n);if(a.includes("io.metamask.mobile")&&L.isMobile()){const o=a.indexOf("io.metamask.mobile");a[o]="io.metamask"}return t.filter(o=>!a.includes(String(o==null?void 0:o.rdns)))},filterOutDuplicatesByIds(t){const e=$.state.connectors.filter(o=>o.type==="ANNOUNCED"||o.type==="INJECTED"),r=b.getRecentWallets(),s=e.map(o=>o.explorerId),n=r.map(o=>o.id),a=s.concat(n);return t.filter(o=>!a.includes(o==null?void 0:o.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=$.state,r=e.filter(a=>a.type==="ANNOUNCED").reduce((a,i)=>{var o;return(o=i.info)!=null&&o.rdns&&(a[i.info.rdns]=!0),a},{});return t.map(a=>({...a,installed:!!a.rdns&&!!r[a.rdns??""]})).sort((a,i)=>Number(i.installed)-Number(a.installed))},getConnectOrderMethod(t,e){var d;const r=(t==null?void 0:t.connectMethodsOrder)||((d=m.state.features)==null?void 0:d.connectMethodsOrder),s=e||$.state.connectors;if(r)return r;const{injected:n,announced:a}=Tr.getConnectorsByType(s,D.state.recommended,D.state.featured),i=n.filter(Tr.showConnector),o=a.filter(Tr.showConnector);return i.length||o.length?["wallet","email","social"]:$o.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&D.state.excludedWallets.some(s=>s.rdns===t.rdns),r=!!t.name&&D.state.excludedWallets.some(s=>Vr.isLowerCaseMatch(s.name,t.name));return e||r}},Tr={getConnectorsByType(t,e,r){const{customWallets:s}=m.state,n=b.getRecentWallets(),a=us.filterOutDuplicateWallets(e),i=us.filterOutDuplicateWallets(r),o=t.filter(h=>h.type==="MULTI_CHAIN"),d=t.filter(h=>h.type==="ANNOUNCED"),l=t.filter(h=>h.type==="INJECTED"),p=t.filter(h=>h.type==="EXTERNAL");return{custom:s,recent:n,external:p,multiChain:o,announced:d,injected:l,recommended:a,featured:i}},showConnector(t){var n;const e=(n=t.info)==null?void 0:n.rdns,r=!!e&&D.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===e),s=!!t.name&&D.state.excludedWallets.some(a=>Vr.isLowerCaseMatch(a.name,t.name));return!(t.type==="INJECTED"&&(!L.isMobile()&&t.name==="Browser Wallet"||!e&&!ie.checkInstalled()||r||s)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||s))},getIsConnectedWithWC(){return Array.from(u.state.chains.values()).some(r=>$.getConnectorId(r.namespace)===T.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:s,announced:n,injected:a,multiChain:i,external:o,overriddenConnectors:d=(l=>(l=m.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const p=Tr.getIsConnectedWithWC(),w=[{type:"walletConnect",isEnabled:m.state.enableWalletConnect&&!p},{type:"recent",isEnabled:s.length>0},{type:"injected",isEnabled:[...a,...n,...i].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:o.length>0},{type:"recommended",isEnabled:t.length>0}].filter(R=>R.isEnabled),O=new Set(w.map(R=>R.type)),g=d.filter(R=>O.has(R)).map(R=>({type:R,isEnabled:!0})),I=w.filter(({type:R})=>!g.some(({type:V})=>V===R));return Array.from(new Set([...g,...I].map(({type:R})=>R)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Sr=globalThis,hs=Sr.ShadowRoot&&(Sr.ShadyCSS===void 0||Sr.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,fs=Symbol(),xs=new WeakMap;let un=class{constructor(e,r,s){if(this._$cssResult$=!0,s!==fs)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(hs&&e===void 0){const s=r!==void 0&&r.length===1;s&&(e=xs.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&xs.set(r,e))}return e}toString(){return this.cssText}};const xe=t=>new un(typeof t=="string"?t:t+"",void 0,fs),Rt=(t,...e)=>{const r=t.length===1?t[0]:e.reduce((s,n,a)=>s+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[a+1],t[0]);return new un(r,t,fs)},Fo=(t,e)=>{if(hs)t.adoptedStyleSheets=e.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of e){const s=document.createElement("style"),n=Sr.litNonce;n!==void 0&&s.setAttribute("nonce",n),s.textContent=r.cssText,t.appendChild(s)}},Us=hs?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const s of e.cssRules)r+=s.cssText;return xe(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:jo,defineProperty:Ho,getOwnPropertyDescriptor:Vo,getOwnPropertyNames:Go,getOwnPropertySymbols:zo,getPrototypeOf:qo}=Object,st=globalThis,Ds=st.trustedTypes,Ko=Ds?Ds.emptyScript:"",rs=st.reactiveElementPolyfillSupport,Yt=(t,e)=>t,ps={toAttribute(t,e){switch(e){case Boolean:t=t?Ko:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},pn=(t,e)=>!jo(t,e),Ls={attribute:!0,type:String,converter:ps,reflect:!1,useDefault:!1,hasChanged:pn};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),st.litPropertyMetadata??(st.litPropertyMetadata=new WeakMap);let St=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=Ls){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const s=Symbol(),n=this.getPropertyDescriptor(e,s,r);n!==void 0&&Ho(this.prototype,e,n)}}static getPropertyDescriptor(e,r,s){const{get:n,set:a}=Vo(this.prototype,e)??{get(){return this[r]},set(i){this[r]=i}};return{get:n,set(i){const o=n==null?void 0:n.call(this);a==null||a.call(this,i),this.requestUpdate(e,o,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Ls}static _$Ei(){if(this.hasOwnProperty(Yt("elementProperties")))return;const e=qo(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Yt("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Yt("properties"))){const r=this.properties,s=[...Go(r),...zo(r)];for(const n of s)this.createProperty(n,r[n])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[s,n]of r)this.elementProperties.set(s,n)}this._$Eh=new Map;for(const[r,s]of this.elementProperties){const n=this._$Eu(r,s);n!==void 0&&this._$Eh.set(n,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const n of s)r.unshift(Us(n))}else e!==void 0&&r.push(Us(e));return r}static _$Eu(e,r){const s=r.attribute;return s===!1?void 0:typeof s=="string"?s:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(r=>r(this))}addController(e){var r;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var r;(r=this._$EO)==null||r.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const s of r.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Fo(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(r=>{var s;return(s=r.hostConnected)==null?void 0:s.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(r=>{var s;return(s=r.hostDisconnected)==null?void 0:s.call(r)})}attributeChangedCallback(e,r,s){this._$AK(e,s)}_$ET(e,r){var a;const s=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,s);if(n!==void 0&&s.reflect===!0){const i=(((a=s.converter)==null?void 0:a.toAttribute)!==void 0?s.converter:ps).toAttribute(r,s.type);this._$Em=e,i==null?this.removeAttribute(n):this.setAttribute(n,i),this._$Em=null}}_$AK(e,r){var a,i;const s=this.constructor,n=s._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const o=s.getPropertyOptions(n),d=typeof o.converter=="function"?{fromAttribute:o.converter}:((a=o.converter)==null?void 0:a.fromAttribute)!==void 0?o.converter:ps;this._$Em=n,this[n]=d.fromAttribute(r,o.type)??((i=this._$Ej)==null?void 0:i.get(n))??null,this._$Em=null}}requestUpdate(e,r,s){var n;if(e!==void 0){const a=this.constructor,i=this[e];if(s??(s=a.getPropertyOptions(e)),!((s.hasChanged??pn)(i,r)||s.useDefault&&s.reflect&&i===((n=this._$Ej)==null?void 0:n.get(e))&&!this.hasAttribute(a._$Eu(e,s))))return;this.C(e,r,s)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:s,reflect:n,wrapped:a},i){s&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,i??r??this[e]),a!==!0||i!==void 0)||(this._$AL.has(e)||(this.hasUpdated||s||(r=void 0),this._$AL.set(e,r)),n===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,i]of this._$Ep)this[a]=i;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[a,i]of n){const{wrapped:o}=i,d=this[a];o!==!0||this._$AL.has(a)||d===void 0||this.C(a,void 0,i,d)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),(s=this._$EO)==null||s.forEach(n=>{var a;return(a=n.hostUpdate)==null?void 0:a.call(n)}),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){var r;(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdated)==null?void 0:n.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};St.elementStyles=[],St.shadowRootOptions={mode:"open"},St[Yt("elementProperties")]=new Map,St[Yt("finalized")]=new Map,rs==null||rs({ReactiveElement:St}),(st.reactiveElementVersions??(st.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Zt=globalThis,Fr=Zt.trustedTypes,Ms=Fr?Fr.createPolicy("lit-html",{createHTML:t=>t}):void 0,hn="$lit$",rt=`lit$${Math.random().toFixed(9).slice(2)}$`,fn="?"+rt,Yo=`<${fn}>`,_t=document,ur=()=>_t.createComment(""),pr=t=>t===null||typeof t!="object"&&typeof t!="function",ms=Array.isArray,Zo=t=>ms(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",ss=`[ 	
\f\r]`,Ft=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Bs=/-->/g,Ws=/>/g,lt=RegExp(`>|${ss}(?:([^\\s"'>=/]+)(${ss}*=${ss}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),$s=/'/g,Fs=/"/g,mn=/^(?:script|style|textarea|title)$/i,gn=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),gc=gn(1),Cc=gn(2),Ut=Symbol.for("lit-noChange"),he=Symbol.for("lit-nothing"),js=new WeakMap,ut=_t.createTreeWalker(_t,129);function Cn(t,e){if(!ms(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ms!==void 0?Ms.createHTML(e):e}const Jo=(t,e)=>{const r=t.length-1,s=[];let n,a=e===2?"<svg>":e===3?"<math>":"",i=Ft;for(let o=0;o<r;o++){const d=t[o];let l,p,h=-1,C=0;for(;C<d.length&&(i.lastIndex=C,p=i.exec(d),p!==null);)C=i.lastIndex,i===Ft?p[1]==="!--"?i=Bs:p[1]!==void 0?i=Ws:p[2]!==void 0?(mn.test(p[2])&&(n=RegExp("</"+p[2],"g")),i=lt):p[3]!==void 0&&(i=lt):i===lt?p[0]===">"?(i=n??Ft,h=-1):p[1]===void 0?h=-2:(h=i.lastIndex-p[2].length,l=p[1],i=p[3]===void 0?lt:p[3]==='"'?Fs:$s):i===Fs||i===$s?i=lt:i===Bs||i===Ws?i=Ft:(i=lt,n=void 0);const w=i===lt&&t[o+1].startsWith("/>")?" ":"";a+=i===Ft?d+Yo:h>=0?(s.push(l),d.slice(0,h)+hn+d.slice(h)+rt+w):d+rt+(h===-2?o:w)}return[Cn(t,a+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),s]};class hr{constructor({strings:e,_$litType$:r},s){let n;this.parts=[];let a=0,i=0;const o=e.length-1,d=this.parts,[l,p]=Jo(e,r);if(this.el=hr.createElement(l,s),ut.currentNode=this.el.content,r===2||r===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(n=ut.nextNode())!==null&&d.length<o;){if(n.nodeType===1){if(n.hasAttributes())for(const h of n.getAttributeNames())if(h.endsWith(hn)){const C=p[i++],w=n.getAttribute(h).split(rt),O=/([.?@])?(.*)/.exec(C);d.push({type:1,index:a,name:O[2],strings:w,ctor:O[1]==="."?Qo:O[1]==="?"?ec:O[1]==="@"?tc:zr}),n.removeAttribute(h)}else h.startsWith(rt)&&(d.push({type:6,index:a}),n.removeAttribute(h));if(mn.test(n.tagName)){const h=n.textContent.split(rt),C=h.length-1;if(C>0){n.textContent=Fr?Fr.emptyScript:"";for(let w=0;w<C;w++)n.append(h[w],ur()),ut.nextNode(),d.push({type:2,index:++a});n.append(h[C],ur())}}}else if(n.nodeType===8)if(n.data===fn)d.push({type:2,index:a});else{let h=-1;for(;(h=n.data.indexOf(rt,h+1))!==-1;)d.push({type:7,index:a}),h+=rt.length-1}a++}}static createElement(e,r){const s=_t.createElement("template");return s.innerHTML=e,s}}function Dt(t,e,r=t,s){var i,o;if(e===Ut)return e;let n=s!==void 0?(i=r._$Co)==null?void 0:i[s]:r._$Cl;const a=pr(e)?void 0:e._$litDirective$;return(n==null?void 0:n.constructor)!==a&&((o=n==null?void 0:n._$AO)==null||o.call(n,!1),a===void 0?n=void 0:(n=new a(t),n._$AT(t,r,s)),s!==void 0?(r._$Co??(r._$Co=[]))[s]=n:r._$Cl=n),n!==void 0&&(e=Dt(t,n._$AS(t,e.values),n,s)),e}class Xo{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:s}=this._$AD,n=((e==null?void 0:e.creationScope)??_t).importNode(r,!0);ut.currentNode=n;let a=ut.nextNode(),i=0,o=0,d=s[0];for(;d!==void 0;){if(i===d.index){let l;d.type===2?l=new gr(a,a.nextSibling,this,e):d.type===1?l=new d.ctor(a,d.name,d.strings,this,e):d.type===6&&(l=new rc(a,this,e)),this._$AV.push(l),d=s[++o]}i!==(d==null?void 0:d.index)&&(a=ut.nextNode(),i++)}return ut.currentNode=_t,n}p(e){let r=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(e,s,r),r+=s.strings.length-2):s._$AI(e[r])),r++}}class gr{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,r,s,n){this.type=2,this._$AH=he,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=s,this.options=n,this._$Cv=(n==null?void 0:n.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Dt(this,e,r),pr(e)?e===he||e==null||e===""?(this._$AH!==he&&this._$AR(),this._$AH=he):e!==this._$AH&&e!==Ut&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Zo(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==he&&pr(this._$AH)?this._$AA.nextSibling.data=e:this.T(_t.createTextNode(e)),this._$AH=e}$(e){var a;const{values:r,_$litType$:s}=e,n=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=hr.createElement(Cn(s.h,s.h[0]),this.options)),s);if(((a=this._$AH)==null?void 0:a._$AD)===n)this._$AH.p(r);else{const i=new Xo(n,this),o=i.u(this.options);i.p(r),this.T(o),this._$AH=i}}_$AC(e){let r=js.get(e.strings);return r===void 0&&js.set(e.strings,r=new hr(e)),r}k(e){ms(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let s,n=0;for(const a of e)n===r.length?r.push(s=new gr(this.O(ur()),this.O(ur()),this,this.options)):s=r[n],s._$AI(a),n++;n<r.length&&(this._$AR(s&&s._$AB.nextSibling,n),r.length=n)}_$AR(e=this._$AA.nextSibling,r){var s;for((s=this._$AP)==null?void 0:s.call(this,!1,!0,r);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var r;this._$AM===void 0&&(this._$Cv=e,(r=this._$AP)==null||r.call(this,e))}}class zr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,s,n,a){this.type=1,this._$AH=he,this._$AN=void 0,this.element=e,this.name=r,this._$AM=n,this.options=a,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=he}_$AI(e,r=this,s,n){const a=this.strings;let i=!1;if(a===void 0)e=Dt(this,e,r,0),i=!pr(e)||e!==this._$AH&&e!==Ut,i&&(this._$AH=e);else{const o=e;let d,l;for(e=a[0],d=0;d<a.length-1;d++)l=Dt(this,o[s+d],r,d),l===Ut&&(l=this._$AH[d]),i||(i=!pr(l)||l!==this._$AH[d]),l===he?e=he:e!==he&&(e+=(l??"")+a[d+1]),this._$AH[d]=l}i&&!n&&this.j(e)}j(e){e===he?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Qo extends zr{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===he?void 0:e}}class ec extends zr{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==he)}}class tc extends zr{constructor(e,r,s,n,a){super(e,r,s,n,a),this.type=5}_$AI(e,r=this){if((e=Dt(this,e,r,0)??he)===Ut)return;const s=this._$AH,n=e===he&&s!==he||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,a=e!==he&&(s===he||n);n&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,e):this._$AH.handleEvent(e)}}class rc{constructor(e,r,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){Dt(this,e)}}const ns=Zt.litHtmlPolyfillSupport;ns==null||ns(hr,gr),(Zt.litHtmlVersions??(Zt.litHtmlVersions=[])).push("3.3.0");const sc=(t,e,r)=>{const s=(r==null?void 0:r.renderBefore)??e;let n=s._$litPart$;if(n===void 0){const a=(r==null?void 0:r.renderBefore)??null;s._$litPart$=n=new gr(e.insertBefore(ur(),a),a,void 0,r??{})}return n._$AI(t),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ht=globalThis;class Ir extends St{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const e=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=e.firstChild),e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=sc(r,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Ut}}var zs;Ir._$litElement$=!0,Ir.finalized=!0,(zs=ht.litElementHydrateSupport)==null||zs.call(ht,{LitElement:Ir});const as=ht.litElementPolyfillSupport;as==null||as({LitElement:Ir});(ht.litElementVersions??(ht.litElementVersions=[])).push("4.2.0");let Jt,nt,at;function _c(t,e){Jt=document.createElement("style"),nt=document.createElement("style"),at=document.createElement("style"),Jt.textContent=kt(t).core.cssText,nt.textContent=kt(t).dark.cssText,at.textContent=kt(t).light.cssText,document.head.appendChild(Jt),document.head.appendChild(nt),document.head.appendChild(at),_n(e)}function _n(t){nt&&at&&(t==="light"?(nt.removeAttribute("media"),at.media="enabled"):(at.removeAttribute("media"),nt.media="enabled"))}function nc(t){Jt&&nt&&at&&(Jt.textContent=kt(t).core.cssText,nt.textContent=kt(t).dark.cssText,at.textContent=kt(t).light.cssText)}function kt(t){return{core:Rt`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${xe(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${xe((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${xe((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${xe((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${xe((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Rt`
      :root {
        --w3m-color-mix: ${xe((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${xe(Ke(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${xe(Ke(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Rt`
      :root {
        --w3m-color-mix: ${xe((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${xe(Ke(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${xe(Ke(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const wc=Rt`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ec=Rt`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Ac=Rt`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Gt={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603};function Cr(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Hs=Cr({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Vs=Cr({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Cr({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Cr({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Cr({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const wn={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},gs={getMethodsByChainNamespace(t){return wn[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},s=new Set;if(e.methods&&Object.keys(e.methods).forEach(n=>s.add(n)),e.chains&&Object.keys(e.chains).forEach(n=>s.add(n)),e.events&&Object.keys(e.events).forEach(n=>s.add(n)),e.rpcMap&&Object.keys(e.rpcMap).forEach(n=>{const[a]=n.split(":");a&&s.add(a)}),s.forEach(n=>{r[n]||(r[n]=this.createDefaultNamespace(n))}),e.methods&&Object.entries(e.methods).forEach(([n,a])=>{r[n]&&(r[n].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([n,a])=>{r[n]&&(r[n].chains=a)}),e.events&&Object.entries(e.events).forEach(([n,a])=>{r[n]&&(r[n].events=a)}),e.rpcMap){const n=new Set;Object.entries(e.rpcMap).forEach(([a,i])=>{const[o,d]=a.split(":");!o||!d||!r[o]||(r[o].rpcMap||(r[o].rpcMap={}),n.has(o)||(r[o].rpcMap={},n.add(o)),r[o].rpcMap[d]=i)})}return r},createNamespaces(t,e){const r=t.reduce((s,n)=>{const{id:a,chainNamespace:i,rpcUrls:o}=n,d=o.default.http[0];s[i]||(s[i]=this.createDefaultNamespace(i));const l=`${i}:${a}`,p=s[i];switch(p.chains.push(l),l){case Hs.caipNetworkId:p.chains.push(Hs.deprecatedCaipNetworkId);break;case Vs.caipNetworkId:p.chains.push(Vs.deprecatedCaipNetworkId);break}return p!=null&&p.rpcMap&&d&&(p.rpcMap[a]=d),s},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{var s;const e=await tn.resolveName(t);return((s=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:s.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],s=e.accounts.map(n=>{const[a,i]=n.split(":");return`${a}:${i}`});return Array.from(new Set([...r,...s]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class En{constructor({provider:e,namespace:r}){this.id=T.CONNECTOR_ID.WALLET_CONNECT,this.name=kr.ConnectorNamesMap[T.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=kr.ConnectorImageIds[T.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=u.getCaipNetworks.bind(u),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),s=m.state.universalProviderConfigOverride,n=gs.createNamespaces(r,s);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return qt.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:ac})}}const ac=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class ic{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=r=>u.getCaipNetworks(r),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:T.CONNECTOR_ID.AUTH,type:"AUTH",name:T.CONNECTOR_NAMES.AUTH,provider:e,imageId:kr.ConnectorImageIds[T.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(s=>r.has(s.id)?!1:(r.add(s.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,r){N.setStatus(e,r)}on(e,r){var s;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(s=this.eventListeners.get(e))==null||s.add(r)}off(e,r){const s=this.eventListeners.get(e);s&&s.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const s=this.eventListeners.get(e);s&&s.forEach(n=>n(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var a;const{caipNetwork:r,providerType:s}=e;if(!e.provider)return;const n="provider"in e.provider?e.provider.provider:e.provider;if(s==="WALLET_CONNECT"){n.setDefaultChain(r.caipNetworkId);return}if(n&&s==="AUTH"){const i=n,o=(a=N.state.preferredAccountTypes)==null?void 0:a[r.chainNamespace];await i.switchNetwork(r.caipNetworkId);const d=await i.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",d)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof En);if(!e)throw new Error("WalletConnectConnector not found");return e}}class oc extends ic{setUniversalProvider(e){this.addConnector(new En({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var n,a,i,o;const r=this.provider,s=((o=(i=(a=(n=r==null?void 0:r.session)==null?void 0:n.namespaces)==null?void 0:a[e])==null?void 0:i.accounts)==null?void 0:o.map(d=>{const[,,l]=d.split(":");return l}).filter((d,l,p)=>p.indexOf(d)===l))||[];return Promise.resolve({accounts:s.map(d=>L.createAccount(e,d,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var a,i,o,d,l;if(!(e.caipNetwork&&Ce.BALANCE_SUPPORTED_CHAINS.includes((a=e.caipNetwork)==null?void 0:a.chainNamespace))||(i=e.caipNetwork)!=null&&i.testnet)return{balance:"0.00",symbol:((o=e.caipNetwork)==null?void 0:o.nativeCurrency.symbol)||""};if(N.state.balanceLoading&&e.chainId===((d=u.state.activeCaipNetwork)==null?void 0:d.id))return{balance:N.state.balance||"0.00",symbol:N.state.balanceSymbol||""};const n=(await N.fetchTokenBalance()).find(p=>{var h,C;return p.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&p.symbol===((C=e.caipNetwork)==null?void 0:C.nativeCurrency.symbol)});return{balance:(n==null?void 0:n.quantity.numeric)||"0.00",symbol:(n==null?void 0:n.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var i,o,d;const{provider:r,message:s,address:n}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return((i=u.state.activeCaipNetwork)==null?void 0:i.chainNamespace)===T.CHAIN.SOLANA?a=(await r.request({method:"solana_signMessage",params:{message:Rn.encode(new TextEncoder().encode(s)),pubkey:n}},(o=u.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)).signature:a=await r.request({method:"personal_sign",params:[s,n]},(d=u.state.activeCaipNetwork)==null?void 0:d.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var n,a,i,o,d,l;const{caipNetwork:r}=e,s=this.getWalletConnectConnector();if(r.chainNamespace===T.CHAIN.EVM)try{await((n=s.provider)==null?void 0:n.request({method:"wallet_switchEthereumChain",params:[{chainId:Cs(r.id)}]}))}catch(p){if(p.code===Gt.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||p.code===Gt.ERROR_INVALID_CHAIN_ID||p.code===Gt.ERROR_CODE_DEFAULT||((i=(a=p==null?void 0:p.data)==null?void 0:a.originalError)==null?void 0:i.code)===Gt.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=s.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Cs(r.id),rpcUrls:[(o=r==null?void 0:r.rpcUrls.chainDefault)==null?void 0:o.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[(d=r.blockExplorers)==null?void 0:d.default.url]}]}))}catch{throw new Error("Chain is not supported")}}s.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(s=>s.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class cc{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(r,s)=>{var n,a,i,o;if(r){const d=(a=(n=u.getNetworkData(r))==null?void 0:n.requestedCaipNetworks)==null?void 0:a.find(p=>p.id===s);if(d)return d;const l=(i=u.getNetworkData(r))==null?void 0:i.caipNetwork;return l||((o=u.getRequestedCaipNetworks(r).filter(p=>p.chainNamespace===r))==null?void 0:o[0])}return u.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>u.getCaipNetworks(r),this.getActiveChainNamespace=()=>u.state.activeChain,this.setRequestedCaipNetworks=(r,s)=>{u.setRequestedCaipNetworks(r,s)},this.getApprovedCaipNetworkIds=()=>u.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>u.state.activeChain===r||!r?u.state.activeCaipAddress:u.getAccountProp("caipAddress",r),this.setClientId=r=>{U.setClientId(r)},this.getProvider=r=>ee.getProvider(r),this.getProviderType=r=>ee.getProviderId(r),this.getPreferredAccountType=r=>{var s;return(s=N.state.preferredAccountTypes)==null?void 0:s[r]},this.setCaipAddress=(r,s)=>{N.setCaipAddress(r,s)},this.setBalance=(r,s,n)=>{N.setBalance(r,s,n)},this.setProfileName=(r,s)=>{N.setProfileName(r,s)},this.setProfileImage=(r,s)=>{N.setProfileImage(r,s)},this.setUser=(r,s)=>{N.setUser(r,s),m.state.enableEmbedded&&de.close()},this.resetAccount=r=>{N.resetAccount(r)},this.setCaipNetwork=r=>{u.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,s)=>{u.setChainNetworkData(s,{caipNetwork:r})},this.setAllAccounts=(r,s)=>{N.setAllAccounts(r,s),m.setHasMultipleAddresses((r==null?void 0:r.length)>1)},this.setStatus=(r,s)=>{N.setStatus(r,s),$.isConnected()?b.setConnectionStatus("connected"):b.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>u.getAccountProp("address",r),this.setConnectors=r=>{const s=[...$.state.allConnectors,...r];$.setConnectors(s)},this.fetchIdentity=r=>U.fetchIdentity(r),this.getReownName=r=>tn.getNamesForAddress(r),this.getConnectors=()=>$.getConnectors(),this.getConnectorImage=r=>Xs.getConnectorImage(r),this.setConnectedWalletInfo=(r,s)=>{const n=ee.getProviderId(s),a=r?{...r,type:n}:void 0;N.setConnectedWalletInfo(a,s)},this.getIsConnectedState=()=>!!u.state.activeCaipAddress,this.addAddressLabel=(r,s,n)=>{N.addAddressLabel(r,s,n)},this.removeAddressLabel=(r,s)=>{N.removeAddressLabel(r,s)},this.getAddress=r=>u.state.activeChain===r||!r?N.state.address:u.getAccountProp("address",r),this.setApprovedCaipNetworksData=r=>u.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{u.resetNetwork(r)},this.addConnector=r=>{$.addConnector(r)},this.resetWcConnection=()=>{ie.resetWcConnection()},this.setAddressExplorerUrl=(r,s)=>{N.setAddressExplorerUrl(r,s)},this.setSmartAccountDeployed=(r,s)=>{N.setSmartAccountDeployed(r,s)},this.setSmartAccountEnabledNetworks=(r,s)=>{u.setSmartAccountEnabledNetworks(r,s)},this.setPreferredAccountType=(r,s)=>{N.setPreferredAccountType(r,s)},this.setEIP6963Enabled=r=>{m.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,r){const s=e==null?void 0:e.map(a=>a.namespace).filter(a=>!!a);if(s!=null&&s.length)return[...new Set(s)];const n=r==null?void 0:r.map(a=>a.chainNamespace);return[...new Set(n)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),He.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var s;const{...r}=e;delete r.adapters,delete r.universalProvider,re.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:((s=e.siweConfig)==null?void 0:s.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ge.setThemeMode(e.themeMode),e.themeVariables&&ge.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");u.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&u.setActiveCaipNetwork(r)}initializeConnectionController(e){ie.setWcBasic(e.basic??!1)}initializeConnectorController(){$.initialize(this.chainNamespaces)}initializeOptionsController(e){var i;m.setDebug(e.debug!==!1),m.setEnableWalletConnect(e.enableWalletConnect!==!1),m.setEnableWalletGuide(e.enableWalletGuide!==!1),m.setEnableWallets(e.enableWallets!==!1),m.setEIP6963Enabled(e.enableEIP6963!==!1),m.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),m.setEnableAuthLogger(e.enableAuthLogger!==!1),m.setCustomRpcUrls(e.customRpcUrls),m.setSdkVersion(e.sdkVersion),m.setProjectId(e.projectId),m.setEnableEmbedded(e.enableEmbedded),m.setAllWallets(e.allWallets),m.setIncludeWalletIds(e.includeWalletIds),m.setExcludeWalletIds(e.excludeWalletIds),m.setFeaturedWalletIds(e.featuredWalletIds),m.setTokens(e.tokens),m.setTermsConditionsUrl(e.termsConditionsUrl),m.setPrivacyPolicyUrl(e.privacyPolicyUrl),m.setCustomWallets(e.customWallets),m.setFeatures(e.features),m.setAllowUnsupportedChain(e.allowUnsupportedChain),m.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),m.setDefaultAccountTypes(e.defaultAccountTypes);const r=b.getPreferredAccountTypes(),s={...m.state.defaultAccountTypes,...r};N.setPreferredAccountTypes(s);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),m.setMetadata(e.metadata),m.setDisableAppend(e.disableAppend),m.setEnableEmbedded(e.enableEmbedded),m.setSIWX(e.siwx),!e.projectId){zt.open(Vt.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((i=e.adapters)==null?void 0:i.find(o=>o.namespace===T.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");m.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,r,s,n;return typeof window<"u"&&typeof document<"u"?{name:((r=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:r.textContent)||"",description:((s=document.querySelector('meta[property="og:description"]'))==null?void 0:s.content)||"",url:window.location.origin,icons:[((n=document.querySelector('link[rel~="icon"]'))==null?void 0:n.href)||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const s=bt.getUnsupportedNetwork(`${r}:${e}`);u.setActiveCaipNetwork(s)}}getDefaultNetwork(){return bt.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return bt.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return bt.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(n=>{var a;return n.id===((a=e.defaultNetwork)==null?void 0:a.id)});return r?bt.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var a;const e=u.state.activeChain,r=this.getAdapter(e),s=(a=this.getCaipNetwork(e))==null?void 0:a.id;if(!r)throw new Error("Adapter not found");const n=await r.connectWalletConnect(s);this.close(),this.setClientId((n==null?void 0:n.clientId)||null),b.setConnectedNamespaces([...u.state.chains.keys()]),this.chainNamespaces.forEach(i=>{$.setConnectorId(be.CONNECTOR_TYPE_WALLET_CONNECT,i)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:r,type:s,provider:n,chain:a,caipNetwork:i})=>{var w,O,g,I,R,te;const o=u.state.activeChain,d=a||o,l=this.getAdapter(d);if(a&&a!==o&&!i){const V=this.getCaipNetworks().find(se=>se.chainNamespace===a);V&&this.setCaipNetwork(V)}if(!l)throw new Error("Adapter not found");const p=this.getCaipNetwork(d),h=await l.connect({id:e,info:r,type:s,provider:n,chainId:(i==null?void 0:i.id)||(p==null?void 0:p.id),rpcUrl:((g=(O=(w=i==null?void 0:i.rpcUrls)==null?void 0:w.default)==null?void 0:O.http)==null?void 0:g[0])||((te=(R=(I=p==null?void 0:p.rpcUrls)==null?void 0:I.default)==null?void 0:R.http)==null?void 0:te[0])});if(!h)return;b.addConnectedNamespace(d),this.syncProvider({...h,chainNamespace:d});const{accounts:C}=await l.getAccounts({namespace:d,id:e});this.setAllAccounts(C,d),this.setStatus("connected",d)},reconnectExternal:async({id:e,info:r,type:s,provider:n})=>{var o;const a=u.state.activeChain,i=this.getAdapter(a);i!=null&&i.reconnect&&(await(i==null?void 0:i.reconnect({id:e,info:r,type:s,provider:n,chainId:(o=this.getCaipNetwork())==null?void 0:o.id})),b.addConnectedNamespace(a))},disconnect:async e=>{const r=e||u.state.activeChain,s=this.getAdapter(r),n=ee.getProvider(r),a=ee.getProviderId(r);await(s==null?void 0:s.disconnect({provider:n,providerType:a})),b.removeConnectedNamespace(r),ee.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r)},checkInstalled:e=>e?e.some(r=>{var s;return!!((s=window.ethereum)!=null&&s[String(r)])}):!!window.ethereum,signMessage:async e=>{const r=this.getAdapter(u.state.activeChain),s=await(r==null?void 0:r.signMessage({message:e,address:N.state.address,provider:ee.getProvider(u.state.activeChain)}));return(s==null?void 0:s.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===T.CHAIN.EVM){const r=this.getAdapter(u.state.activeChain),s=ee.getProvider(u.state.activeChain),n=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:s}));return(n==null?void 0:n.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===T.CHAIN.EVM){const r=this.getAdapter(u.state.activeChain),s=ee.getProvider(u.state.activeChain),n=this.getCaipNetwork();if(!n)throw new Error("CaipNetwork is undefined");const a=await(r==null?void 0:r.estimateGas({...e,provider:s,caipNetwork:n}));return(a==null?void 0:a.gas)||0n}return 0n},getEnsAvatar:async()=>{var s;const e=this.getAdapter(u.state.activeChain),r=await(e==null?void 0:e.getProfile({address:N.state.address,chainId:Number((s=this.getCaipNetwork())==null?void 0:s.id)}));return(r==null?void 0:r.profileImage)||!1},getEnsAddress:async e=>{const r=this.getAdapter(u.state.activeChain),s=this.getCaipNetwork();if(!s)return!1;const n=await(r==null?void 0:r.getEnsAddress({name:e,caipNetwork:s}));return(n==null?void 0:n.address)||!1},writeContract:async e=>{const r=this.getAdapter(u.state.activeChain),s=this.getCaipNetwork(),n=this.getCaipAddress(),a=ee.getProvider(u.state.activeChain);if(!s||!n)throw new Error("CaipNetwork or CaipAddress is undefined");const i=await(r==null?void 0:r.writeContract({...e,caipNetwork:s,provider:a,caipAddress:n}));return i==null?void 0:i.hash},parseUnits:(e,r)=>{const s=this.getAdapter(u.state.activeChain);return(s==null?void 0:s.parseUnits({value:e,decimals:r}))??0n},formatUnits:(e,r)=>{const s=this.getAdapter(u.state.activeChain);return(s==null?void 0:s.formatUnits({value:e,decimals:r}))??"0"},getCapabilities:async e=>{const r=this.getAdapter(u.state.activeChain);return await(r==null?void 0:r.getCapabilities(e))},grantPermissions:async e=>{const r=this.getAdapter(u.state.activeChain);return await(r==null?void 0:r.grantPermissions(e))},revokePermissions:async e=>{const r=this.getAdapter(u.state.activeChain);return r!=null&&r.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(u.state.activeChain);return await(r==null?void 0:r.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ie.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var r,s,n,a,i;if(ee.getProviderId(u.state.activeChain)===be.CONNECTOR_TYPE_WALLET_CONNECT){const o=(s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces;return{supportsAllNetworks:((i=(a=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:a.peer)==null?void 0:i.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(o)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const n=ee.getProvider(r),a=ee.getProviderId(r);if(e.chainNamespace===u.state.activeChain){const i=this.getAdapter(r);await(i==null?void 0:i.switchNetwork({caipNetwork:e,provider:n,providerType:a}))}else if(this.setCaipNetwork(e),a===be.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const i=this.getAddressByChainNamespace(r);i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const s=r.chains||[],n=r.accounts.map(a=>{const{chainId:i,chainNamespace:o}=Xe.parseCaipAddress(a);return`${o}:${i}`});return Array.from(new Set([...s,...n]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,s)=>{var a;const n=e==null?void 0:e.find(i=>i.namespace===s);return n?(n.construct({namespace:s,projectId:(a=this.options)==null?void 0:a.projectId,networks:this.getCaipNetworks()}),r[s]=n):r[s]=new oc({namespace:s,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){var r;this.onConnectors(e),this.listenAdapter(e),(r=this.chainAdapters)==null||r[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const r=this.getAdapter(e);r==null||r.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const s=b.getConnectionStatus();s==="connected"?this.setStatus("connecting",e):s==="disconnected"?(b.clearAddressCache(),this.setStatus(s,e)):this.setStatus(s,e),r.on("switchNetwork",({address:n,chainId:a})=>{const i=this.getCaipNetworks().find(l=>l.id===a||l.caipNetworkId===a),o=u.state.activeChain===e,d=u.getAccountProp("address",e);if(i){const l=o&&n?n:d;l&&this.syncAccount({address:l,chainId:i.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),r.on("disconnect",this.disconnect.bind(this,e)),r.on("pendingTransactions",()=>{const n=N.state.address,a=u.state.activeCaipNetwork;!n||!(a!=null&&a.id)||this.updateNativeBalance(n,a.id,a.chainNamespace)}),r.on("accountChanged",({address:n,chainId:a})=>{var o,d;const i=u.state.activeChain===e;i&&a?this.syncAccount({address:n,chainId:a,chainNamespace:e}):i&&((o=u.state.activeCaipNetwork)!=null&&o.id)?this.syncAccount({address:n,chainId:(d=u.state.activeCaipNetwork)==null?void 0:d.id,chainNamespace:e}):this.syncAccountInfo(n,a,e)})}async createUniversalProviderForAdapter(e){var r,s,n;await this.getUniversalProvider(),this.universalProvider&&((n=(s=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:s.setUniversalProvider)==null||n.call(s,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const r=$.getConnectorId(e);switch(this.setStatus("connecting",e),r){case T.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case T.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var i,o,d;const r=this.getAdapter(e),s=$.getConnectorId(e),n=this.getCaipNetwork(e),a=$.getConnectors(e).find(l=>l.id===s);try{if(!r||!a)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(n!=null&&n.id))throw new Error("CaipNetwork not found");const l=await(r==null?void 0:r.syncConnection({namespace:e,id:a.id,chainId:n.id,rpcUrl:(d=(o=(i=n==null?void 0:n.rpcUrls)==null?void 0:i.default)==null?void 0:o.http)==null?void 0:d[0]}));if(l){const p=await(r==null?void 0:r.getAccounts({namespace:e,id:a.id}));p&&p.accounts.length>0?this.setAllAccounts(p.accounts,e):this.setAllAccounts([L.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async r=>{var o,d,l,p,h;const s=this.getAdapter(r),n=((p=(l=(d=(o=this.universalProvider)==null?void 0:o.session)==null?void 0:d.namespaces)==null?void 0:l[r])==null?void 0:p.accounts)||[],a=(h=u.state.activeCaipNetwork)==null?void 0:h.id,i=n.find(C=>{const{chainId:w}=Xe.parseCaipAddress(C);return w===(a==null?void 0:a.toString())})||n[0];if(i){const C=Xe.validateCaipAddress(i),{chainId:w,address:O}=Xe.parseCaipAddress(C);if(ee.setProviderId(r,be.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&u.state.activeCaipNetwork&&(s==null?void 0:s.namespace)!==T.CHAIN.EVM){const g=s==null?void 0:s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:u.state.activeCaipNetwork});ee.setProvider(r,g)}else ee.setProvider(r,this.universalProvider);$.setConnectorId(T.CONNECTOR_ID.WALLET_CONNECT,r),b.addConnectedNamespace(r),this.syncWalletConnectAccounts(r),await this.syncAccount({address:O,chainId:w,chainNamespace:r})}else this.setStatus("disconnected",r);await u.setApprovedCaipNetworksData(r)});await Promise.all(e)}syncWalletConnectAccounts(e){var s,n,a,i,o;const r=(o=(i=(a=(n=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:n.namespaces)==null?void 0:a[e])==null?void 0:i.accounts)==null?void 0:o.map(d=>{const{address:l}=Xe.parseCaipAddress(d);return l}).filter((d,l,p)=>p.indexOf(d)===l);r&&this.setAllAccounts(r.map(d=>L.createAccount(e,d,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:r,id:s,chainNamespace:n}){ee.setProviderId(n,e),ee.setProvider(n,r),$.setConnectorId(s,n)}async syncAccount(e){var h,C;const r=e.chainNamespace===u.state.activeChain,s=u.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:n,chainId:a,chainNamespace:i}=e,{chainId:o}=b.getActiveNetworkProps(),d=a||o,l=((h=u.state.activeCaipNetwork)==null?void 0:h.name)===T.UNSUPPORTED_NETWORK_NAME,p=u.getNetworkProp("supportsAllNetworks",i);if(this.setStatus("connected",i),!(l&&!p)&&d){let w=this.getCaipNetworks().find(I=>I.id.toString()===d.toString()),O=this.getCaipNetworks().find(I=>I.chainNamespace===i);if(!p&&!w&&!O){const I=this.getApprovedCaipNetworkIds()||[],R=I.find(V=>{var se;return((se=Xe.parseCaipNetworkId(V))==null?void 0:se.chainId)===d.toString()}),te=I.find(V=>{var se;return((se=Xe.parseCaipNetworkId(V))==null?void 0:se.chainNamespace)===i});w=this.getCaipNetworks().find(V=>V.caipNetworkId===R),O=this.getCaipNetworks().find(V=>V.caipNetworkId===te||"deprecatedCaipNetworkId"in V&&V.deprecatedCaipNetworkId===te)}const g=w||O;(g==null?void 0:g.chainNamespace)===u.state.activeChain?m.state.enableNetworkSwitch&&!m.state.allowUnsupportedChain&&((C=u.state.activeCaipNetwork)==null?void 0:C.name)===T.UNSUPPORTED_NETWORK_NAME?u.showUnsupportedChainUI():this.setCaipNetwork(g):r||s&&this.setCaipNetworkOfNamespace(s,i),this.syncConnectedWalletInfo(i),Vr.isLowerCaseMatch(n,N.state.address)||this.syncAccountInfo(n,g==null?void 0:g.id,i),r?await this.syncBalance({address:n,chainId:g==null?void 0:g.id,chainNamespace:i}):await this.syncBalance({address:n,chainId:s==null?void 0:s.id,chainNamespace:i})}}async syncAccountInfo(e,r,s){const n=this.getCaipAddress(s),a=r||(n==null?void 0:n.split(":")[1]);if(!a)return;const i=`${s}:${a}:${e}`;this.setCaipAddress(i,s),await this.syncIdentity({address:e,chainId:a,chainNamespace:s})}async syncReownName(e,r){try{const s=await this.getReownName(e);if(s[0]){const n=s[0];this.setProfileName(n.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){var n;const r=$.getConnectorId(e),s=ee.getProviderId(e);if(s===be.CONNECTOR_TYPE_ANNOUNCED||s===be.CONNECTOR_TYPE_INJECTED){if(r){const a=this.getConnectors().find(i=>i.id===r);if(a){const{info:i,name:o,imageUrl:d}=a,l=d||this.getConnectorImage(a);this.setConnectedWalletInfo({name:o,icon:l,...i},e)}}}else if(s===be.CONNECTOR_TYPE_WALLET_CONNECT){const a=ee.getProvider(e);a!=null&&a.session&&this.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:(n=a.session.peer.metadata.icons)==null?void 0:n[0]},e)}else if(r)if(r===T.CONNECTOR_ID.COINBASE){const a=this.getConnectors().find(i=>i.id===T.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(a)},e)}else this.setConnectedWalletInfo({name:r},e)}async syncBalance(e){!Ys.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(s=>{var n;return s.id.toString()===((n=e.chainId)==null?void 0:n.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,r,s){const n=this.getAdapter(s),a=u.getCaipNetworkByNamespace(s,r);if(n){const i=await n.getBalance({address:e,chainId:r,caipNetwork:a,tokens:this.options.tokens});this.setBalance(i.balance,i.symbol,s)}}async initializeUniversalAdapter(){var s,n,a,i,o,d,l,p,h,C;const e=Ca.createLogger((w,...O)=>{w&&this.handleAlertError(w),console.error(...O)}),r={projectId:(s=this.options)==null?void 0:s.projectId,metadata:{name:(n=this.options)!=null&&n.metadata?(a=this.options)==null?void 0:a.metadata.name:"",description:(i=this.options)!=null&&i.metadata?(o=this.options)==null?void 0:o.metadata.description:"",url:(d=this.options)!=null&&d.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(p=this.options)!=null&&p.metadata?(h=this.options)==null?void 0:h.metadata.icons:[""]},logger:e};m.setManualWCControl(!!((C=this.options)!=null&&C.manualWCControl)),this.universalProvider=this.options.universalProvider??await kn.init(r),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ie.setUri(e)}),this.universalProvider.on("connect",ie.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ie.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const r=this.getCaipNetworks().find(n=>n.id==e),s=this.getCaipNetwork();if(!r){this.setUnsupportedNetwork(e);return}(s==null?void 0:s.id)!==(r==null?void 0:r.id)&&this.setCaipNetwork(r)}),this.universalProvider.on("session_event",e=>{if(gs.isSessionEventData(e)){const{name:r,data:s}=e.params.event;r==="accountsChanged"&&Array.isArray(s)&&L.isCaipAddress(s[0])&&this.syncAccount(Xe.parseCaipAddress(s[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&L.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){re.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Vt.UniversalProviderErrors).find(([,{message:o}])=>e.message.includes(o)),[s,n]=r??[],{message:a,alertErrorKey:i}=n??{};if(s&&a&&!this.reportedAlertErrors[s]){const o=Vt.ALERT_ERRORS[i];o&&(zt.open(o,"error"),this.reportedAlertErrors[s]=!0)}}getAdapter(e){var r;if(e)return(r=this.chainAdapters)==null?void 0:r[e]}createAdapter(e){var n;if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const s=e;s.namespace=r,s.construct({namespace:r,projectId:(n=this.options)==null?void 0:n.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=s)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&ie.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return de.open({...e,data:{swap:e.arguments}})}return de.open(e)}async close(){await this.injectModalUi(),de.close()}setLoading(e,r){de.setLoading(e,r)}async disconnect(e){await ie.disconnect(e)}getError(){return""}getChainId(){var e;return(e=u.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const r=this.getCaipNetworks().find(s=>s.id===e.id);if(!r){zt.open(Vt.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await u.switchActiveNetwork(r)}getWalletProvider(){return u.state.activeChain?ee.state.providers[u.state.activeChain]:null}getWalletProviderType(){return ee.getProviderId(u.state.activeChain)}subscribeProviders(e){return ee.subscribeProviders(e)}getThemeMode(){return ge.state.themeMode}getThemeVariables(){return ge.state.themeVariables}setThemeMode(e){ge.setThemeMode(e),_n(ge.state.themeMode)}setTermsConditionsUrl(e){m.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){m.setPrivacyPolicyUrl(e)}setThemeVariables(e){ge.setThemeVariables(e),nc(ge.state.themeVariables)}subscribeTheme(e){return ge.subscribe(e)}getWalletInfo(){return N.state.connectedWalletInfo}getAccount(e){var a;const r=$.getAuthConnector(e),s=u.getAccountData(e),n=u.state.activeChain;if(s)return{allAccounts:s.allAccounts,caipAddress:s.caipAddress,address:L.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r?{user:s.user?{...s.user,username:b.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:(a=s.preferredAccountTypes)==null?void 0:a[e||n],isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const s=()=>{const n=this.getAccount(r);n&&e(n)};r?u.subscribeChainProp("accountState",s,r):u.subscribe(s),$.subscribe(s)}subscribeNetwork(e){return u.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r==null?void 0:r.id,caipNetworkId:r==null?void 0:r.caipNetworkId})})}subscribeWalletInfo(e){return N.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){N.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){u.subscribeKey("activeCaipNetwork",e)}getState(){return He.state}subscribeState(e){return He.subscribe(e)}showErrorMessage(e){me.showError(e)}showSuccessMessage(e){me.showSuccess(e)}getEvent(){return{...re.state}}subscribeEvents(e){return re.subscribe(e)}replace(e){X.replace(e)}redirect(e){X.push(e)}popTransactionStack(e){X.popTransactionStack(e)}isOpen(){return de.state.open}isTransactionStackEmpty(){return X.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=X.state.transactionStack[X.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){m.setFeatures(e)}updateOptions(e){const s={...m.state||{},...e};m.setOptions(s)}setConnectMethodsOrder(e){m.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){m.setWalletFeaturesOrder(e)}setCollapseWallets(e){m.setCollapseWallets(e)}setSocialsOrder(e){m.setSocialsOrder(e)}getConnectMethodsOrder(){return us.getConnectOrderMethod(m.state.features,$.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const s=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(n=>n.id===s.id)||u.addNetwork(s)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(n=>n.id===r)&&u.removeNetwork(e,r)}}let Gs=!1;class An extends cc{setupAuthConnectorListeners(e){e.onRpcRequest(r=>{Re.checkIfRequestExists(r)?Re.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(ue.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(ue.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((r,s)=>{const n=Re.checkIfRequestIsSafe(s),a=N.state.address,i=u.state.activeCaipNetwork;n||(this.isTransactionStackEmpty()?(this.close(),a&&(i!=null&&i.id)&&this.updateNativeBalance(a,i.id,i.chainNamespace)):(this.popTransactionStack(),a&&(i!=null&&i.id)&&this.updateNativeBalance(a,i.id,i.chainNamespace)))}),e.onNotConnected(()=>{const r=u.state.activeChain;$.getConnectorId(r)===T.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(async r=>{var o,d;const s=u.state.activeChain,n=s===T.CHAIN.EVM?`eip155:${r.chainId}:${r.address}`:`${r.chainId}:${r.address}`,a=r.preferredAccountType||((o=N.state.preferredAccountTypes)==null?void 0:o[s])||m.state.defaultAccountTypes[s];Vr.isLowerCaseMatch(r.address,N.state.address)||this.syncIdentity({address:r.address,chainId:r.chainId,chainNamespace:s}),this.setCaipAddress(n,s),this.setUser({...N.state.user||{},...r},s),this.setSmartAccountDeployed(!!r.smartAccountDeployed,s),this.setPreferredAccountType(a,s);const i=(d=r.accounts)==null?void 0:d.map(l=>{var p;return L.createAccount(s,l.address,l.type||((p=N.state.preferredAccountTypes)==null?void 0:p[s])||m.state.defaultAccountTypes[s])});this.setAllAccounts(i||[L.createAccount(s,r.address,r.preferredAccountType||a)],s),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,s)}),e.onSocialConnected(({userName:r})=>{this.setUser({...N.state.user||{},username:r},u.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(r=>{this.setSmartAccountEnabledNetworks(r,u.state.activeChain)}),e.onSetPreferredAccount(({address:r,type:s})=>{r&&this.setPreferredAccountType(s,u.state.activeChain)})}async syncAuthConnector(e,r){var p,h,C,w;const s=T.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!s)return;this.setLoading(!0,r);const n=e.getLoginEmailUsed();this.setLoading(n,r),n&&this.setStatus("connecting",r);const a=e.getEmail(),i=e.getUsername();this.setUser({...((p=N.state)==null?void 0:p.user)||{},username:i,email:a},u.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:o}=await e.isConnected(),d=ge.getSnapshot(),l=m.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:d.themeMode,themeVariables:d.themeVariables,w3mThemeVariables:Ke(d.themeVariables,d.themeMode)}),r&&s&&(o&&((h=this.connectionControllerClient)!=null&&h.connectExternal)?(await((w=this.connectionControllerClient)==null?void 0:w.connectExternal({id:T.CONNECTOR_ID.AUTH,info:{name:T.CONNECTOR_ID.AUTH},type:be.CONNECTOR_TYPE_AUTH,provider:e,chainId:(C=u.state.activeCaipNetwork)==null?void 0:C.id,chain:r})),this.setStatus("connected",r)):$.getConnectorId(r)===T.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),b.removeConnectedNamespace(r))),this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){var r;try{if(!L.isTelegram())return;const s=b.getTelegramSocialProvider();if(!s||typeof window>"u"||typeof document>"u")return;const a=new URL(window.location.href).searchParams.get("result_uri");if(!a)return;N.setSocialProvider(s,e),await((r=this.authProvider)==null?void 0:r.init());const i=$.getAuthConnector();s&&i&&(this.setLoading(!0,e),await i.provider.connectSocial(a),await ie.connectExternal(i,i.chain),b.setConnectedSocialProvider(s),b.removeTelegramSocialProvider(),re.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:s}}))}catch(s){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",s)}try{const s=new URL(window.location.href);s.searchParams.delete("result_uri"),window.history.replaceState({},document.title,s.toString())}catch(s){console.error("tma social login failed",s)}}createAuthProvider(e){var i,o,d,l,p,h,C,w,O,g,I,R,te;if(!T.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const s=((o=(i=this.options)==null?void 0:i.features)==null?void 0:o.email)===void 0?Ce.DEFAULT_FEATURES.email:(l=(d=this.options)==null?void 0:d.features)==null?void 0:l.email,n=(h=(p=this.options)==null?void 0:p.features)!=null&&h.socials?((O=(w=(C=this.options)==null?void 0:C.features)==null?void 0:w.socials)==null?void 0:O.length)>0:Ce.DEFAULT_FEATURES.socials,a=s||n;!this.authProvider&&((g=this.options)!=null&&g.projectId)&&a&&(this.authProvider=Kt.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(I=this.getCaipNetwork(e))==null?void 0:I.caipNetworkId,onTimeout:()=>{zt.open(Vt.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),He.subscribeOpen(V=>{var se;!V&&this.isTransactionStackEmpty()&&((se=this.authProvider)==null||se.rejectRpcRequests())}),e===T.CHAIN.EVM&&((R=N.state.preferredAccountTypes)!=null&&R.eip155)&&this.authProvider.setPreferredAccount((te=N.state.preferredAccountTypes)==null?void 0:te.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var r,s,n;this.createAuthProvider(e),this.authProvider&&((n=(s=(r=this.chainAdapters)==null?void 0:r[e])==null?void 0:s.setAuthProvider)==null||n.call(s,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&D.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var a,i;if(!e)return;const r=u.state.activeChain,s=e.chainNamespace,n=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===u.state.activeChain&&n){const o=this.getAdapter(s),d=ee.getProvider(s),l=ee.getProviderId(s);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:d,providerType:l})),this.setCaipNetwork(e)}else{const d=ee.getProviderId(r)===be.CONNECTOR_TYPE_AUTH,l=ee.getProviderId(s),p=l===be.CONNECTOR_TYPE_AUTH,h=T.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(s);if((d||p)&&h)try{u.state.activeChain=e.chainNamespace,await((i=(a=this.connectionControllerClient)==null?void 0:a.connectExternal)==null?void 0:i.call(a,{id:T.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:s,chainId:e.id,type:be.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const w=this.getAdapter(s);await(w==null?void 0:w.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===be.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),n&&this.syncAccount({address:n,chainId:e.id,chainNamespace:s}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:r,chainNamespace:s}){var i;const n=`${s}:${r}`,a=(i=this.caipNetworks)==null?void 0:i.find(o=>o.caipNetworkId===n);if(s!==T.CHAIN.EVM||a!=null&&a.testnet){this.setProfileName(null,s),this.setProfileImage(null,s);return}try{const{name:o,avatar:d}=await this.fetchIdentity({address:e,caipNetworkId:n});if(this.setProfileName(o,s),this.setProfileImage(d,s),!o){const l=this.getAdapter(s),p=await(l==null?void 0:l.getProfile({address:e,chainId:Number(r)}));p!=null&&p.profileName?(this.setProfileName(p.profileName,s),p.profileImage&&this.setProfileImage(p.profileImage,s)):(await this.syncReownName(e,s),this.setProfileImage(null,s))}}catch{await this.syncReownName(e,s),r!==1&&this.setProfileImage(null,s)}}syncConnectedWalletInfo(e){const r=ee.getProviderId(e);if(r===be.CONNECTOR_TYPE_AUTH){const s=this.authProvider;if(s){const n=b.getConnectedSocialProvider()??"email",a=s.getEmail()??s.getUsername();this.setConnectedWalletInfo({name:r,identifier:a,social:n},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!Gs&&L.isClient()){const e={...Ce.DEFAULT_FEATURES,...this.options.features},r=[];if(e&&((e.email||e.socials&&e.socials.length)&&r.push(Fe(()=>import("./embedded-wallet-CyiU3O1w.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),e.email&&r.push(Fe(()=>import("./email-DkaFmDju.js"),__vite__mapDeps([12,1,2,3,11,7,10,6,13,8]))),e.socials&&r.push(Fe(()=>import("./socials-BYoBhRmi.js"),__vite__mapDeps([14,1,2,3,15,6,7,16,10,11,17,5,18,19]))),e.swaps&&r.push(Fe(()=>import("./swaps-Dyp2Fuu5.js"),__vite__mapDeps([20,1,2,3,6,7,21,22,23,5,10,19,8]))),e.send&&r.push(Fe(()=>import("./send-BzcMqexG.js"),__vite__mapDeps([24,1,2,3,6,7,10,11,23,5,8,25]))),e.receive&&r.push(Fe(()=>import("./receive-KsBpADg8.js"),__vite__mapDeps([26,1,2,3,27,5,17,18]))),e.onramp&&r.push(Fe(()=>import("./onramp-wUA3JsRV.js"),__vite__mapDeps([28,1,2,3,29,19,10,5,7,30,15,6,11,8]))),e.history&&r.push(Fe(()=>import("./transactions-WZYXgABr.js"),__vite__mapDeps([31,1,2,3,32,29,19,10,11,5])))),await Promise.all([...r,Fe(()=>import("./index-DTD9fypW.js"),__vite__mapDeps([33,1,2,3,5,7,25,10,34,22,9,30,6,32,29,19,11,21,8,13,15,16,4,27,17,18])),Fe(()=>import("./w3m-modal-CsEcmnnd.js"),__vite__mapDeps([35,1,2,3,9,5,10,7,22,34]))]),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!m.state.disableAppend&&!m.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}Gs=!0}}}const lc="1.7.3";function dc(t){return new An({...t,sdkVersion:L.generateSdkVersion(t.adapters??[],"html",lc)})}const yc=Object.freeze(Object.defineProperty({__proto__:null,AccountController:N,AppKit:An,CoreHelperUtil:L,DEFAULT_METHODS:wn,WcConstantsUtil:Gt,WcHelpersUtil:gs,createAppKit:dc},Symbol.toStringTag,{value:"Module"}));export{N as A,U as B,$ as C,ha as D,tn as E,De as F,Ac as G,Cc as H,us as I,Tr as J,qt as K,he as L,de as M,Ar as N,m as O,_c as P,pn as Q,X as R,me as S,ge as T,ps as U,Ut as V,ue as W,yc as X,Ir as a,Ce as b,T as c,L as d,u as e,re as f,Ke as g,Ec as h,Rt as i,Re as j,ie as k,be as l,$o as m,b as n,Ns as o,Xs as p,ce as q,wc as r,zt as s,vs as t,Te as u,Ee as v,pc as w,gc as x,D as y,hc as z};
